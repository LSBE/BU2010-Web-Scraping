!function(e){"use strict";var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},n(e,t)};var t=function(){return t=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},t.apply(this,arguments)};function o(e,n,t,o){return new(t||(t=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function c(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,c)}l((o=o.apply(e,n||[])).next())}))}function r(e,n){var t,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],o=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var a=Object.create?function(e,n,t,o){void 0===o&&(o=t);var r=Object.getOwnPropertyDescriptor(n,t);r&&!("get"in r?!n.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,o,r)}:function(e,n,t,o){void 0===o&&(o=t),e[o]=n[t]};function i(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],o=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,r,a=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}return i}function l(e){return this instanceof l?(this.v=e,this):new l(e)}var s=Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n};var d,u,p,h,f,m,y,b=Object.freeze({__proto__:null,__extends:function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},get __assign(){return t},__rest:function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t},__decorate:function(e,n,t,o){var r,a=arguments.length,i=a<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(n,t,i):r(n,t))||i);return a>3&&i&&Object.defineProperty(n,t,i),i},__param:function(e,n){return function(t,o){n(t,o,e)}},__metadata:function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},__awaiter:o,__generator:r,__createBinding:a,__exportStar:function(e,n){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(n,t)||a(n,e,t)},__values:i,__read:c,__spread:function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(c(arguments[n]));return e},__spreadArrays:function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var o=Array(e),r=0;for(n=0;n<t;n++)for(var a=arguments[n],i=0,c=a.length;i<c;i++,r++)o[r]=a[i];return o},__spreadArray:function(e,n,t){if(t||2===arguments.length)for(var o,r=0,a=n.length;r<a;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))},__await:l,__asyncGenerator:function(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(e,n||[]),a=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(e){r[e]&&(o[e]=function(n){return new Promise((function(t,o){a.push([e,n,t,o])>1||c(e,n)}))})}function c(e,n){try{(t=r[e](n)).value instanceof l?Promise.resolve(t.value.v).then(s,d):u(a[0][2],t)}catch(e){u(a[0][3],e)}var t}function s(e){c("next",e)}function d(e){c("throw",e)}function u(e,n){e(n),a.shift(),a.length&&c(a[0][0],a[0][1])}},__asyncDelegator:function(e){var n,t;return n={},o("next"),o("throw",(function(e){throw e})),o("return"),n[Symbol.iterator]=function(){return this},n;function o(o,r){n[o]=e[o]?function(n){return(t=!t)?{value:l(e[o](n)),done:"return"===o}:r?r(n):n}:r}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=i(e),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(t){n[t]=e[t]&&function(n){return new Promise((function(o,r){(function(e,n,t,o){Promise.resolve(o).then((function(n){e({value:n,done:t})}),n)})(o,r,(n=e[t](n)).done,n.value)}))}}},__makeTemplateObject:function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},__importStar:function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&a(n,e,t);return s(n,e),n},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,n,t,o){if("a"===t&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?e!==n||!o:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?o:"a"===t?o.call(e):o?o.value:n.get(e)},__classPrivateFieldSet:function(e,n,t,o,r){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?e!==n||!r:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?r.call(e,t):r?r.value=t:n.set(e,t),t},__classPrivateFieldIn:function(e,n){if(null===n||"object"!=typeof n&&"function"!=typeof n)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?n===e:e.has(n)}});function g(e,n){if(void 0!==e){var t=e.filter(n);return t.length?t[0]:void 0}}function v(e){var n=window.location.search.substring(1);if(0===n.length)return null;var t=n.split("&").map((function(e){return e.split("=")})),o=t.filter((function(n){return n[0]===e}))[0];return(o?o[1]:null)||null}function C(e){for(var n=0,t=decodeURIComponent(document.cookie).split(";");n<t.length;n++){var o=t[n].split("="),r=o[0],a=o[1];if(r.trim()===e)return a}return""}!function(e){e.Accepted="accept",e.Declined="decline",e.PrivacyPolicyView="privacy_policy_view"}(d||(d={})),function(e){e.StylesContainerId="shopify-pc__banner__styles",e.DialogId="shopify-pc__banner",e.DialogClass="shopify-pc__banner__dialog",e.WrapperClass="shopify-pc__banner__wrapper",e.BodyClass="shopify-pc__banner__body",e.BodyTitleId="shopify-pc__banner__body-title",e.BodyCopyId="shopify-pc__banner__body-copy",e.BodyCopyPolicyLinkId="shopify-pc__banner__body-policy-link",e.ButtonsClass="shopify-pc__banner__btns",e.ButtonsGranularClass="shopify-pc__banner__btns-granular",e.ButtonAcceptId="shopify-pc__banner__btn-accept",e.ButtonAcceptClass="shopify-pc__banner__btn-accept",e.ButtonDeclineId="shopify-pc__banner__btn-decline",e.ButtonDeclineClass="shopify-pc__banner__btn-decline",e.ButtonManagePrefsId="shopify-pc__banner__btn-manage-prefs",e.ButtonManagePrefsClass="shopify-pc__banner__btn-manage-prefs"}(u||(u={})),function(e){e.StylesContainerId="shopify-pc__prefs__styles",e.OverlayId="shopify-pc__prefs__overlay",e.OverlayClass="shopify-pc__prefs__overlay",e.WrapperId="shopify-pc__prefs",e.WrapperClass="shopify-pc__prefs",e.DialogId="shopify-pc__prefs__dialog",e.DialogClass="shopify-pc__prefs__dialog",e.DialogScrollableClass="shopify-pc__prefs__scrollable",e.HeaderTitleId="shopify-pc__prefs__header-title",e.HeaderActionsClass="shopify-pc__prefs__header-actions",e.HeaderSaveId="shopify-pc__prefs__header-save",e.HeaderSaveClass="shopify-pc__prefs__header-save",e.HeaderAcceptId="shopify-pc__prefs__header-accept",e.HeaderDeclineId="shopify-pc__prefs__header-decline",e.HeaderCloseId="shopify-pc__prefs__header-close",e.HeaderCloseClass="shopify-pc__prefs__header-close",e.IntroClass="shopify-pc__prefs__intro",e.IntroMainClass="shopify-pc__prefs__intro-main",e.IntroMainDescId="shopify-pc__prefs__intro-main-desc",e.IntroExplainWrapperClass="shopify-pc__prefs__intro-explain",e.IntroExplainAcceptClass="shopify-pc__prefs__intro-explain-accept",e.IntroExplainDeclineClass="shopify-pc__prefs__intro-explain-decline",e.OptionWrapperClass="shopify-pc__prefs__options",e.OptionClass="shopify-pc__prefs__option",e.OptionEssentialWrapperClass="shopify-pc__prefs__essential-wrapper",e.OptionEssentialId="shopify-pc__prefs__essential",e.OptionEssentialInputId="shopify-pc__prefs__essential-input",e.OptionEssentialDescId="shopify-pc__prefs__essential-desc",e.OptionMarketingId="shopify-pc__prefs__marketing",e.OptionMarketingInputId="shopify-pc__prefs__marketing-input",e.OptionMarketingDescId="shopify-pc__prefs__marketing-desc",e.OptionAnalyticsId="shopify-pc__prefs__analytics",e.OptionAnalyticsInputId="shopify-pc__prefs__analytics-input",e.OptionAnalyticsDescId="shopify-pc__prefs__analytics-desc",e.OptionPreferencesId="shopify-pc__prefs__preferences",e.OptionPreferencesInputId="shopify-pc__prefs__preferences-input",e.OptionPreferencesDescId="shopify-pc__prefs__preferences-desc"}(p||(p={})),function(e){e.BottomFullWidth="bottom-full-width",e.BottomLeft="bottom-left",e.Center="center",e.BottomRight="bottom-right",e.BottomCenter="bottom-center"}(h||(h={})),function(e){e.AcceptFirst="accept-first",e.DeclineFirst="decline-first"}(f||(f={})),function(e){e.Fill="fill",e.Outline="outline",e.Weighted="weighted"}(m||(m={})),function(e){e[e.Yes=1]="Yes",e[e.No=0]="No"}(y||(y={}));var _,x,w;function B(e,n,t,o,r){var a=function(e,n){switch(e){case f.AcceptFirst:return n?"flex-direction: column":"flex-direction: row;";case f.DeclineFirst:return n?"flex-direction: column-reverse":"flex-direction: row-reverse;";default:return n?"flex-direction: column":"flex-direction: row;"}}(n,o),i=function(e,n){return e?"auto":n?"580px":"365px"}(o,r),c=r?"1280px":"900px",l="\n    .".concat(u.WrapperClass," {\n      display: flex;\n      align-items: ").concat(o?"stretch":"center",";\n      justify-content: space-between;\n      flex-direction: column;\n    }\n  "),s="\n    position: ".concat(o?"static":"fixed",";\n    z-index: 9999;\n    box-shadow: 0px 4px 10px rgb(63 63 68 / 40%);\n    max-height: 90%;\n    box-sizing: border-box;\n    opacity: 1;\n    padding: 30px;\n    background-color: ").concat(t.backgroundColor,";\n    overflow: auto;\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n    border: none;\n  "),d=function(e){var n=".".concat(u.ButtonsClass," {\n      flex-direction: column;\n    }\n    .").concat(u.ButtonsGranularClass," :nth-child(1) {\n      order: 3;\n    }\n    .").concat(u.ButtonsGranularClass," :nth-child(2) {\n      order: 1;\n    }\n    .").concat(u.ButtonsGranularClass," :nth-child(3) {\n      order: 2;\n    }");return e?n:"\n      @media only screen and (max-width: 480px) {\n        ".concat(n,"\n      }\n    ")},p="\n    .".concat(u.DialogClass," {\n      ").concat(s,"\n      bottom: 0%;\n      width: 100%;\n    }\n    .").concat(u.DialogClass," button {\n      margin: ").concat(o?"15px":"0"," 10px 0 0;\n    }\n    @media only screen and (max-width: ").concat(c,") {\n      .").concat(u.DialogClass," button {\n        margin: 15px 10px 0 0;\n      }\n    }\n    ").concat(l,"\n    .").concat(u.WrapperClass," {\n      flex-direction: ").concat(o?"column":"row",";\n    }\n    @media only screen and (max-width: ").concat(c,") {\n      .").concat(u.WrapperClass," {\n        flex-direction: column;\n      }\n    }\n    .").concat(u.BodyClass," {\n      margin-right: 5%;\n    }\n    @media only screen and (max-width: ").concat(c,") {\n      .").concat(u.BodyClass," {\n        margin-right: 0;\n        width: 100%;\n      }\n    }\n    .").concat(u.ButtonsClass," {\n      display: flex;\n      min-width: ").concat(i,";\n      ").concat(a,"\n    }\n    @media only screen and (max-width: ").concat(c,") {\n      .").concat(u.ButtonsClass," {\n        min-width: auto;\n        width: 100%;\n        justify-content: flex-end;\n      }\n    }\n    ").concat(d(o),"\n  "),m="\n    .".concat(u.DialogClass," {\n      ").concat(s,"\n      top: 50%;\n      left: 25%;\n      width: 50%;\n      transform: translate(0, -50%);\n      min-width: 280px;\n      border-radius: 3px;\n    }\n    ").concat(l,"\n    @media only screen and (max-width: 1300px) {\n      .").concat(u.DialogClass," {\n        left: 15%;\n        width: 70%;\n      }\n    }\n    @media only screen and (max-width: 900px) {\n      .").concat(u.DialogClass," {\n        left: 5%;\n        width: 90%;\n      }\n    }\n    .").concat(u.BodyClass," {\n      width: 100%;\n    }\n    .").concat(u.ButtonsClass," {\n      display: flex;\n      width: 100%;\n      justify-content: flex-end;\n      ").concat(a,"\n    }\n    ").concat(d(o),"\n  "),y="\n    .".concat(u.DialogClass," {\n      ").concat(s,"\n      bottom: 0;\n      left: 0;\n      max-width: 520px;\n      border-top-right-radius: 3px;\n    }\n    ").concat(l,"\n    .").concat(u.BodyClass," {\n      width: 100%;\n    }\n    .").concat(u.ButtonsClass," {\n      display: flex;\n      justify-content: flex-end;\n      width: 100%;\n      ").concat(a,"\n    }\n    ").concat(d(o),"\n  "),b="\n    .".concat(u.DialogClass," {\n      ").concat(s,"\n      bottom: 0;\n      right: 0;\n      max-width: 520px;\n      border-top-left-radius: 3px;\n    }\n    ").concat(l,"\n    .").concat(u.BodyClass," {\n      width: 100%;\n    }\n    .").concat(u.ButtonsClass," {\n      display: flex;\n      justify-content: flex-end;\n      width: 100%;\n      ").concat(a,"\n    }\n    ").concat(d(o),"\n  "),g="\n    .".concat(u.DialogClass," {\n      ").concat(s,"\n      bottom: 0;\n      left: 25%;\n      width: 50%;\n      min-width: 280px;\n      border-top-right-radius: 3px;\n      border-top-left-radius: 3px;\n    }\n    ").concat(l,"\n    @media only screen and (max-width: 1300px) {\n      .").concat(u.DialogClass," {\n        left: 15%;\n        width: 70%;\n      }\n    }\n    @media only screen and (max-width: 900px) {\n      .").concat(u.DialogClass," {\n        left: 5%;\n        width: 90%;\n      }\n    }\n    .").concat(u.BodyClass," {\n      width: 100%;\n    }\n    .").concat(u.ButtonsClass," {\n      display: flex;\n      width: 100%;\n      justify-content: flex-end;\n      ").concat(a,"\n    }\n    ").concat(d(o),"\n  ");if(o)return p;switch(e){case h.BottomFullWidth:return p;case h.Center:return m;case h.BottomLeft:return y;case h.BottomRight:return b;case h.BottomCenter:return g;default:return p}}!function(e){e.Black="#333",e.White="#fff",e.Gray="#ccc",e.Green="#3AA83A",e.LightGray="#F7F8F9",e.DarkGray="#36454F",e.VeryDarkGray="#666",e.VeryLightGray="#e5e5e5"}(_||(_={})),function(e){e.Dark="dark",e.Light="light",e.Custom="custom"}(x||(x={})),function(e){e.BottomFullWidth="bottom_full_width",e.Center="center",e.BottomCenter="bottom_center",e.BottomLeft="bottom_left",e.BottomRight="bottom_right"}(w||(w={}));var P=function(e,n){var t="tertiary"===e?"none":"1px solid ".concat(n.button.borderColor),o="tertiary"===e?"transparent":function(e,n){return"primary"===e?n.primaryButton.backgroundColor:n.button.backgroundColor}(e,n);return"\n    border: ".concat(t,";\n    color: ").concat(function(e,n){return"primary"===e?n.primaryButton.fontColor:n.button.fontColor}(e,n),";\n    background: ").concat(o,";\n  ")};function I(e,n,t,o){void 0===n&&(n="0,0,100,100"),void 0===t&&(t="0,0,0,100"),void 0===o&&(o="0,0,100,100");var r=e.split(","),a=r[0],i=r[1],c=r[2],l=r[3],s=n.split(","),d=s[0],u=s[1],p=s[2],h=s[3],f=t.split(","),m=f[0],y=f[1],b=f[2],g=f[3],v=o.split(","),C=v[0],_=v[1],x=v[2],w=v[3],B={hue:Number(a),saturation:Number(i),lightness:Number(c),alpha:Number(l)},P={hue:Number(d),saturation:Number(u),lightness:Number(p),alpha:Number(h)},I={hue:Number(m),saturation:Number(y),lightness:Number(b),alpha:Number(g)},A={hue:Number(C),saturation:Number(_),lightness:Number(x),alpha:Number(w)},O={hue:B.hue,saturation:B.saturation,lightness:B.lightness,alpha:B.alpha-20},D={hue:P.hue,saturation:P.saturation,lightness:P.lightness<50?P.lightness+5:P.lightness-5,alpha:P.alpha},k={hue:P.hue,saturation:P.saturation,lightness:P.lightness<50?P.lightness+14:P.lightness-12,alpha:P.alpha},W={hue:201,saturation:P.lightness<50?60:90,lightness:P.lightness<50?60:80,alpha:P.lightness<50?80:100};return{font:E(B),fontSubdued:E(O),buttonFont:E(I),buttonBackground:E(A),background:E(P),backgroundAlt:E(D),divider:E(k),focused:E(W)}}function E(e){return"hsl(".concat(e.hue,"deg, ").concat(e.saturation,"%, ").concat(e.lightness,"%, ").concat(e.alpha,"%)")}function A(e,n,t,o,r){var a="0,0,0,100",i="0,0,100,100",c=I("0,0,12,100","0,0,100,100","0,0,12,100","0,0,100,100"),l=I("0,0,100,87","0,0,12,100","0,0,100,87","0,0,12,100"),s=I(null!=n?n:a,null!=t?t:i,null!=o?o:a,null!=r?r:i),d=function(){switch(e){case x.Light:return c;case x.Dark:return l;case x.Custom:return s;default:return c}}();return{backgroundColor:d.background,backgroundColorAlt:d.backgroundAlt,fontColor:d.font,fontSubduedColor:d.fontSubdued,sectionDivider:d.divider,iconColor:d.font,focused:d.focused,button:{borderColor:d.buttonFont,backgroundColor:d.buttonBackground,fontColor:d.buttonFont},primaryButton:{borderColor:d.buttonBackground,backgroundColor:d.buttonFont,fontColor:d.buttonBackground}}}function O(e,n){void 0===n&&(n=!1);var t=A(e.theme,e.themeColorHslFont,e.themeColorHslBackground,e.themeColorHslButtonFont,e.themeColorHslButtonBackground),o=function(e,n){var t=Boolean(e);return n?"display: none;":t?"\n      z-index: 9000;\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.6);\n    ":"display: none;"}(y.Yes,n),r="\n    .".concat(p.HeaderActionsClass," :nth-child(1) {\n      order: 3;\n    }\n    .").concat(p.HeaderActionsClass," :nth-child(2) {\n      order: 1;\n    }\n    .").concat(p.HeaderActionsClass," :nth-child(3) {\n      order: 2;\n    }\n  ");return"\n    .".concat(p.WrapperClass," {\n      position: relative;\n    }\n    .").concat(p.WrapperClass,':after {\n      content: "";\n      display: block;\n      clear: both;\n    }\n\n    .').concat(p.DialogClass," {\n      box-shadow: 0 5px 10px rgb(63 63 68 / 50%);\n      position: ").concat(n?"static":"fixed",";\n      z-index: 9999;\n      opacity: 1;\n      background-color: ").concat(t.backgroundColor,";\n      ").concat(n?"":"max-height: 80%;","\n      overflow-y: auto;\n      top: ").concat(n?"auto":"50%",";\n      transform: ").concat(n?"none":"translate(0, -50%)",";\n      min-width: 280px;\n      border-radius: 3px;\n      display: flex;\n      flex-direction: column;\n      left: ").concat(n?"auto":"25%",";\n      width: ").concat(n?"100%":"50%",";\n    }\n    @media only screen and (max-width: 1800px) {\n      .").concat(p.DialogClass," {\n        left: ").concat(n?"auto":"20%",";\n        width: ").concat(n?"auto":"60%",";\n      }\n    }\n    @media only screen and (max-width: 1500px) {\n      .").concat(p.DialogClass," {\n        left: ").concat(n?"auto":"15%",";\n        width: ").concat(n?"auto":"70%",";\n      }\n    }\n    @media only screen and (max-width: 1250px) {\n      .").concat(p.DialogClass," {\n        left: ").concat(n?"auto":"5%",";\n        width: ").concat(n?"auto":"90%",";\n      }\n    }\n\n    .").concat(p.OverlayClass," {\n      ").concat(o,"\n    }\n\n    /* Header */\n\n    .").concat(p.DialogClass," header {\n      display: flex;\n      flex-direction: ").concat(n?"column":"row",";\n      justify-content: space-between;\n      align-items: center;\n      padding: 30px 40px 20px 40px;\n      border-bottom: 1px solid ").concat(t.sectionDivider,";\n      position: relative;\n    }\n\n    @media only screen and (max-width: 950px) {\n      .").concat(p.DialogClass," header {\n        flex-direction: column;\n      }\n    }\n    @media only screen and (max-width: 400px) {\n      .").concat(p.DialogClass," header {\n        padding: 15px 20px 10px 20px;\n      }\n    }\n    .").concat(p.DialogClass," header h2 {\n      color: ").concat(t.fontColor,";\n      font-family: inherit;\n      margin: ").concat(n?"0 0 .8em 0":"0 0 0 0",";\n      padding: 0;\n      font-weight: 600;\n      font-size: 130%;\n      line-height: 1.2;\n      ").concat(n?"width: 100%;":"","\n    }\n    @media only screen and (max-width: '750px') {\n      .").concat(p.DialogClass," header h2 {\n        width: 100%;\n      }\n    }\n    @media only screen and (max-width: 950px) {\n      .").concat(p.DialogClass," header h2 {\n        margin: 0 0 .8em 0;\n      }\n    }\n\n    .").concat(p.HeaderCloseClass," {\n      position: absolute;\n      top: 6px;\n      right: 6px;\n      width: 24px;\n      height: 24px;\n      padding: 0;\n      margin: 0;\n      background: transparent;\n      border: none;\n      outline: none;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      align-content: center;\n      border-radius: 50%;\n    }\n    .").concat(p.HeaderCloseClass,":hover {\n      cursor: pointer;\n    }\n    .").concat(p.HeaderCloseClass,":focus {\n      outline: none;\n      box-shadow: 0 0 0 3px ").concat(t.focused,";\n    }\n    .").concat(p.HeaderCloseClass," svg path {\n      fill: ").concat(t.fontColor,";\n    }\n\n    .").concat(p.HeaderActionsClass," {\n      margin: 0;\n      display: flex;\n      justify-content: space-around;\n      flex-direction: ").concat(n?"column;":"row",";\n      padding: 0;\n      width: ").concat(n?"100%":"auto",";\n    }\n\n    ").concat(n?"".concat(r):"","\n\n    @media only screen and (max-width: 750px) {\n      .").concat(p.HeaderActionsClass," {\n        flex-direction: column;\n        width: 100%;\n      }\n\n      ").concat(r,"\n    }\n    .").concat(p.HeaderActionsClass," button {\n      text-decoration: none;\n      font-family: inherit;\n      padding: 8px 25px 10px 25px;\n      margin: 0 25px 0 0;\n      font-size: 110%;\n      background: ").concat(t.button.backgroundColor,";\n      color: ").concat(t.button.fontColor,";\n      border: 1px solid ").concat(t.button.borderColor,";\n      white-space: nowrap;\n      border-radius: 2px;\n      ").concat(n?"width: 100%;":"","\n      ").concat(n?"margin-bottom: 15px;":"","\n    }\n    @media only screen and (max-width: 750px) {\n      .").concat(p.HeaderActionsClass," button {\n        width: 100%;\n        margin-bottom: 15px;\n      }\n    }\n    .").concat(p.HeaderActionsClass," button:last-child {\n      margin-right: 0;\n    }\n    .").concat(p.HeaderActionsClass," button:hover {\n      cursor: pointer;\n    }\n    .").concat(p.HeaderActionsClass," button:focus {\n      outline: none;\n      box-shadow: 0 0 0 4px ").concat(t.focused,";\n    }\n    button.").concat(p.HeaderSaveClass," {\n      display: none;\n      background: ").concat(t.primaryButton.backgroundColor,";\n      color: ").concat(t.primaryButton.fontColor,";\n      border: 1px solid ").concat(t.primaryButton.borderColor,";\n    }\n\n    .").concat(p.DialogScrollableClass," {\n      overflow-y: scroll;\n      position: relative;\n    }\n\n    .").concat(p.DialogScrollableClass,"::-webkit-scrollbar {\n      width: 0px;\n      background: transparent;\n    }\n\n    /* Intro */\n\n    .").concat(p.IntroClass," h3 {\n      color: ").concat(t.fontColor,";\n      font-family: inherit;\n      margin: 0 0 15px 0;\n      padding: 0;\n      font-weight: 600;\n      line-height: 1.2;\n    }\n    .").concat(p.IntroClass," p {\n      color: ").concat(t.fontSubduedColor,";\n      font-family: inherit;\n      margin: 0;\n      padding: 0;\n    }\n    .").concat(p.IntroClass," ul {\n      margin: 0;\n      padding: 0;\n    }\n    .").concat(p.IntroClass," ul li {\n      margin: 0 0 0.5em 1.7em;\n      padding: 0;\n      line-height: 1.2;\n    }\n    .").concat(p.IntroMainClass," {\n      padding: 20px 40px;\n      background-color: ").concat(t.backgroundColorAlt,";\n      line-height: 1.5;\n    }\n    @media only screen and (max-width: 400px) {\n      .").concat(p.IntroMainClass," {\n        padding: 15px 20px;\n      }\n    }\n    .").concat(p.IntroMainClass," h3 {\n      font-size: 110%;\n    }\n    .").concat(p.IntroMainClass," p {\n      font-size: 105%;\n    }\n    .").concat(p.IntroExplainWrapperClass," {\n      display: flex;\n      flex-direction: ").concat(n?"column":"row",";\n      justify-content: center;\n      margin: 0;\n      padding: ").concat(n?"20px 40px 0 40px":"20px 40px",";\n      color: ").concat(t.fontSubduedColor,";\n    }\n    @media only screen and (max-width: 700px) {\n      .").concat(p.IntroExplainWrapperClass," {\n        flex-direction: column;\n        padding-bottom: 0;\n      }\n    }\n    @media only screen and (max-width: 400px) {\n      .").concat(p.IntroExplainWrapperClass," {\n        padding: 15px 20px 0 20px;\n      }\n    }\n    .").concat(p.IntroExplainAcceptClass," {\n      width: 100%;\n      padding: 0 ").concat(n?"0":"40px"," 20px 0;\n      border-bottom: 1px solid ").concat(t.sectionDivider,";\n    }\n    @media only screen and (max-width: 700px) {\n      .").concat(p.IntroExplainAcceptClass," {\n        width: 100%;\n        padding-right: 0;\n      }\n    }\n    .").concat(p.IntroExplainAcceptClass," h3 {\n      font-weight: 600;\n      color: ").concat(t.fontColor,";\n      margin: 0 0 .5em 0;\n      font-size: 110%;\n    }\n\n    /* Options */\n\n    .").concat(p.OptionWrapperClass," {\n      padding: 10px 40px 30px 40px;\n      color: ").concat(t.fontColor,";\n    }\n    @media only screen and (max-width: 400px) {\n      .").concat(p.OptionWrapperClass," {\n        padding: 10px 20px 15px 20px;\n      }\n    }\n\n    .").concat(p.OptionClass," {\n      margin: 0;\n      font-size: 100%;\n      line-height: 1.1;\n      padding: 20px 0 0 0;\n    }\n    .").concat(p.OptionClass,":last-child {\n      border-bottom: none;\n    }\n    .").concat(p.OptionClass," label {\n      display: flex;\n      align-items: flex-start;\n      justify-content: space-between;\n      position: relative;\n      color: ").concat(t.fontColor,";\n      cursor: pointer;\n      font-family: inherit;\n      margin: 0 0 15px 0;\n      padding: 0;\n      font-weight: 600;\n      font-size: 110%;\n      line-height: 1.2;\n    }\n    .").concat(p.OptionClass," label input {\n      position: absolute;\n      clip: rect(1px, 1px, 1px, 1px);\n      padding: 0;\n      border: 0;\n      height: 1px;\n      width: 1px;\n      overflow: hidden;\n    }\n    .").concat(p.OptionClass," label span {\n      display: inline-block;\n      background-color: ").concat(t.backgroundColor,";\n      width: 24px;\n      height: 24px;\n    }\n    .").concat(p.OptionClass," label span svg {\n      background-color: ").concat(t.backgroundColor,";\n      border-radius: 3px;\n    }\n    .").concat(p.OptionClass," label input:focus ~ span,\n    .").concat(p.OptionClass," label input:focus ~ div span {\n      background-color: ").concat(t.focused,";\n    }\n    .").concat(p.OptionClass," label input:focus ~ span svg,\n    .").concat(p.OptionClass," label input:focus ~ div span svg {\n      outline: none;\n      border-radius: 5px;\n      box-shadow: 0 0 0 4px ").concat(t.focused,";\n    }\n    .").concat(p.OptionClass," p {\n      width: ").concat(n?"100%":"80%",";\n      line-height: ").concat(n?"1.4":"1.3",";\n      font-size: 100%;\n      color: ").concat(t.fontSubduedColor,";\n      margin: 0;\n    }\n    @media only screen and (max-width: 700px) {\n      .").concat(p.OptionClass," p {\n        width: 100%;\n        line-height: 1.4;\n      }\n    }\n\n    .").concat(p.OptionEssentialWrapperClass," {\n      display: flex;\n      gap: 10px;\n    }\n    .").concat(p.OptionEssentialWrapperClass," em {\n      color: ").concat(t.fontSubduedColor,";\n      line-height: 1.3;\n      font-size: 90%;\n      font-style: normal;\n      font-weight: normal;\n    }\n    .").concat(p.OptionEssentialWrapperClass," svg {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }​")}function D(e,n,t){void 0===n&&(n=!1);var o=e.granularConsentEnabled,r=A(e.theme,e.themeColorHslFont,e.themeColorHslBackground,e.themeColorHslButtonFont,e.themeColorHslButtonBackground),a=B(null==t?void 0:t.bannerPlacement,null==t?void 0:t.buttonPlacement,r,n,o),i=function(e,n,t){if(n===x.Custom)return{accept:P("primary",t),decline:P("secondary",t),manage:P("tertiary",t)};var o=n===x.Dark,r="\n    background: ".concat(o?_.White:_.Black,";\n    color: ").concat(o?_.Black:_.White,";\n  "),a="\n    background: ".concat(o?_.Black:_.White,";\n    color: ").concat(o?_.White:_.Black,";\n  "),i="\n    background: transparent;\n    border: none;\n    color: ".concat(o?_.White:_.Black,";\n  ");switch(e){case m.Fill:return{accept:r,decline:r,manage:i};case m.Outline:return{accept:a,decline:a,manage:i};case m.Weighted:default:return{accept:r,decline:a,manage:i}}}(null==t?void 0:t.buttonWeight,e.theme,r);return"\n    .".concat(u.DialogClass," h2 {\n      color: ").concat(r.fontColor,";\n      font-family: inherit;\n      font-size: 120%;\n      margin: 0 0 .5em 0;\n      padding: 0;\n      font-weight: bold;\n    }\n    .").concat(u.DialogClass," p {\n      color: ").concat(r.fontColor,";\n      font-family: inherit;\n      line-height: 1.3;\n      margin: 0;\n      padding: 0;\n    }\n    .").concat(u.DialogClass," a {\n      color: ").concat(r.fontColor,";\n      text-decoration: underline;\n    }\n    .").concat(u.DialogClass," button {\n      border: none;\n      text-decoration: none;\n      font-family: inherit;\n      padding: 8px 25px;\n      margin: 15px 10px 0 0;\n      font-size: 100%;\n      flex-basis: 50%;\n      border-radius: 2px;\n    }\n    .").concat(u.DialogClass," button:focus {\n      outline: none;\n      box-shadow: 0 0 0 4px ").concat(r.focused,";\n    }\n    .").concat(u.DialogClass," button:hover {\n      cursor: pointer;\n    }\n    .").concat(u.DialogClass," button.").concat(u.ButtonAcceptClass," {\n      border: 1px solid ").concat(r.button.borderColor,";\n      ").concat(i.accept,"\n    }\n    .").concat(u.DialogClass," button.").concat(u.ButtonManagePrefsClass," {\n      text-decoration: underline;\n      ").concat(i.manage,"\n    }\n    .").concat(u.DialogClass," button.").concat(u.ButtonManagePrefsClass,":focus {\n      box-shadow: none;\n    }\n    .").concat(u.DialogClass," button.").concat(u.ButtonManagePrefsClass,":focus span {\n      outline: 1px dotted #000;\n    }\n    .").concat(u.DialogClass," button.").concat(u.ButtonDeclineClass," {\n      border: 1px solid ").concat(r.button.borderColor,";\n      ").concat(i.decline,"\n    }\n\n    .").concat(u.BodyClass," p a:focus {\n      outline: 1px dotted #000;\n      box-shadow: none;\n    }\n\n    ").concat(a,"\n  ​")}var k=function(){function e(){}return e.getServerData=function(e){var n=e.shopName;return o(this,void 0,Promise,(function(){var e,t,o,a,i,c,l;return r(this,(function(r){return e=window.Shopify.shop,t="https://privacy-banner.shopifyapps.com",o=this.shopCanExperiment(),a=this.canonicalShopId(),i=o&&null!=a?"&experiment_shop_id=".concat(a):"",c=n?"&experiment_shop_name=".concat(encodeURIComponent(n)):"",l=this.SEND_EXPERIMENT_DATA?"".concat(t,"/customization?shopify_domain=").concat(e).concat(i).concat(c):"".concat(t,"/customization?shopify_domain=").concat(e),[2,this.getServerDataWithBackoff(l)]}))}))},e.canonicalShopId=function(){var e,n,t,o;return null===(o=null===(t=null===(n=null===(e=window.trekkie)||void 0===e?void 0:e.config)||void 0===n?void 0:n.Trekkie)||void 0===t?void 0:t.defaultAttributes)||void 0===o?void 0:o.shopId},e.shopCanExperiment=function(){var e,n,t=C("_tracking_consent");try{n=JSON.parse(decodeURIComponent(t))}catch(e){return!1}var o=null!==(e=n.lim)&&void 0!==e?e:[];return o.includes("GDPR")&&!o.includes("GDPR_BLOCK_ALL")},e.getServerDataWithBackoff=function(e,n){return void 0===n&&(n=1),o(this,void 0,Promise,(function(){var t,o,a;return r(this,(function(r){switch(r.label){case 0:return t="".concat(e,"&request_attempt=").concat(n),[4,fetch(t)];case 1:return[4,(o=r.sent()).json()];case 2:return a=r.sent(),200===o.status?[2,a]:n<this.MAX_RETRIES?[4,this.wait()]:[3,4];case 3:return r.sent(),[2,this.getServerDataWithBackoff(e,n+1)];case 4:throw new Error("Could not reach the server")}}))}))},e.wait=function(){var e=this;return new Promise((function(n){return setTimeout(n,e.TIME_BETWEEN_REQUESTS)}))},e.SEND_EXPERIMENT_DATA=!1,e.MAX_RETRIES=6,e.TIME_BETWEEN_REQUESTS=5e3,e}(),W=function(){return!window.location.pathname.match(/^(\/[a-z]{2}(-[A-Z]{2})?)?\/cart$/)},M=function(){return"1"===v("preview_privacy_banner")};function S(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function N(e,n){return e(n={exports:{}},n.exports),n.exports}var T=N((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEVELOPMENT_DOMAIN="http://localhost:8082",n.PRODUCTION_DOMAIN="https://monorail-edge.shopifysvc.com",n.PRODUCE_BATCH_ENDPOINT="/unstable/produce_batch",n.PRODUCE_ENDPOINT="/v1/produce",n.PRODUCTION_CANADA_ENDPOINT="https://monorail-edge-ca.shopifycloud.com/v1/produce",n.extractDomain=function(e){return"https://"+new URL(e).hostname}}));S(T),T.DEVELOPMENT_DOMAIN,T.PRODUCTION_DOMAIN,T.PRODUCE_BATCH_ENDPOINT,T.PRODUCE_ENDPOINT,T.PRODUCTION_CANADA_ENDPOINT,T.extractDomain;for(var F=N((function(e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var t=new Uint8Array(16);e.exports=function(){return n(t),t}}else{var o=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),o[n]=e>>>((3&n)<<3)&255;return o}}})),H=[],L=0;L<256;++L)H[L]=(L+256).toString(16).substr(1);var R,j,U=function(e,n){var t=n||0,o=H;return[o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]]].join("")},V=0,z=0;var G=function(e,n,t){var o=n&&t||0,r=n||[],a=(e=e||{}).node||R,i=void 0!==e.clockseq?e.clockseq:j;if(null==a||null==i){var c=F();null==a&&(a=R=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==i&&(i=j=16383&(c[6]<<8|c[7]))}var l=void 0!==e.msecs?e.msecs:(new Date).getTime(),s=void 0!==e.nsecs?e.nsecs:z+1,d=l-V+(s-z)/1e4;if(d<0&&void 0===e.clockseq&&(i=i+1&16383),(d<0||l>V)&&void 0===e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");V=l,z=s,j=i;var u=(1e4*(268435455&(l+=122192928e5))+s)%4294967296;r[o++]=u>>>24&255,r[o++]=u>>>16&255,r[o++]=u>>>8&255,r[o++]=255&u;var p=l/4294967296*1e4&268435455;r[o++]=p>>>8&255,r[o++]=255&p,r[o++]=p>>>24&15|16,r[o++]=p>>>16&255,r[o++]=i>>>8|128,r[o++]=255&i;for(var h=0;h<6;++h)r[o+h]=a[h];return n||U(r)};var q=function(e,n,t){var o=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||F)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n)for(var a=0;a<16;++a)n[o+a]=r[a];return n||U(r)},Y=q;Y.v1=G,Y.v4=q;var K=Y,X=N((function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(e){function n(t){var o=e.call(this,"Error producing to the Monorail Edge. Response received: "+JSON.stringify(t))||this;return o.response=t,Object.setPrototypeOf(o,n.prototype),o}return b.__extends(n,e),n}(Error);n.MonorailUnableToProduceError=t;var o=function(e){function n(t){var o=e.call(this,"Error producing to the Monorail Edge. Response received: "+JSON.stringify(t))||this;return Object.setPrototypeOf(o,n.prototype),o.response=t,o}return b.__extends(n,e),n}(Error);n.MonorailBatchProduceError=o;var r=function(e){function n(t){var o=e.call(this,"Error completing request. A network failure may have prevented the request from completing. Error: "+t)||this;return Object.setPrototypeOf(o,n.prototype),o}return b.__extends(n,e),n}(Error);n.MonorailRequestError=r;var a=function(e){function n(t){var o=e.call(this,""+t)||this;return Object.setPrototypeOf(o,n.prototype),o}return b.__extends(n,e),n}(Error);n.MonorailRetriesExceededError=a}));S(X),X.MonorailUnableToProduceError,X.MonorailBatchProduceError,X.MonorailRequestError,X.MonorailRetriesExceededError;var J=T,Z=X,Q=N((function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e){void 0===e&&(e=J.DEVELOPMENT_DOMAIN),this.edgeDomain=e}return e.withEndpoint=function(n){return new e(J.extractDomain(n))},e.getHeadersFromMetadata=function(e){var n={"Content-Type":"application/json; charset=utf-8","X-Monorail-Edge-Event-Created-At-Ms":(e&&e.eventCreatedAtMs||Date.now()).toString(),"X-Monorail-Edge-Event-Sent-At-Ms":Date.now().toString(),"X-Monorail-Edge-Client-Message-Id":(e&&e.clientMessageId||K.v4()).toString()};return e&&e.userAgent&&(n["User-Agent"]=e.userAgent),n},e.prototype.produceBatch=function(n){return b.__awaiter(this,void 0,void 0,(function(){var t,o,r,a,i,c;return b.__generator(this,(function(l){switch(l.label){case 0:t={events:this.convertAllEventsToUnderscoreCase(n),metadata:this.toUnderscoreCase(n.metadata)},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,fetch(this.produceBatchEndpoint(),{method:"post",headers:e.getHeadersFromMetadata(n.metadata),body:JSON.stringify(t)})];case 2:return o=l.sent(),[3,4];case 3:throw r=l.sent(),new Z.MonorailRequestError(r);case 4:return 207!==o.status?[3,6]:[4,o.json()];case 5:throw a=l.sent(),new Z.MonorailBatchProduceError(a);case 6:return o.ok?[3,8]:(i=Z.MonorailUnableToProduceError.bind,c={status:o.status},[4,o.text()]);case 7:throw new(i.apply(Z.MonorailUnableToProduceError,[void 0,(c.message=l.sent(),c)]));case 8:return[2,{status:o.status}]}}))}))},e.prototype.produce=function(n){return b.__awaiter(this,void 0,void 0,(function(){var t,o,r,a,i;return b.__generator(this,(function(c){switch(c.label){case 0:t={schema_id:n.schemaId,payload:this.toUnderscoreCase(n.payload)},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,fetch(this.produceEndpoint(),{method:"post",headers:e.getHeadersFromMetadata(n.metadata),body:JSON.stringify(t)})];case 2:return o=c.sent(),[3,4];case 3:throw r=c.sent(),new Z.MonorailRequestError(r);case 4:if(!o)throw new Z.MonorailUnableToProduceError({message:"No response from edge"});return o.ok?[3,6]:(a=Z.MonorailUnableToProduceError.bind,i={status:o.status},[4,o.text()]);case 5:throw new(a.apply(Z.MonorailUnableToProduceError,[void 0,(i.message=c.sent(),i)]));case 6:return[2,{status:o.status}]}}))}))},e.prototype.produceBatchEndpoint=function(){return this.edgeDomain+J.PRODUCE_BATCH_ENDPOINT},e.prototype.produceEndpoint=function(){return this.edgeDomain+J.PRODUCE_ENDPOINT},e.prototype.convertAllEventsToUnderscoreCase=function(e){var n=this;return e.events.map((function(e){return{schema_id:e.schemaId,payload:n.toUnderscoreCase(e.payload),metadata:n.toUnderscoreCase(e.metadata)}}))},e.prototype.toUnderscoreCase=function(e){var n=this;return e?Object.keys(e).map((function(t){var o;return(o={})[n.convertStringToUnderscoreCase(t)]=e[t],o})).reduce((function(e,n){return b.__assign({},e,n)})):e},e.prototype.convertStringToUnderscoreCase=function(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()},e}();n.HttpProducer=t}));S(Q),Q.HttpProducer;var $=N((function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(n){this.sendToConsole=n,n&&e.printWelcomeMessage(n)}return e.printWelcomeMessage=function(e){console.log("%c👋 from Monorail%c\n\nWe've noticed that you're"+(e?"":" not")+" running in debug mode. As such, we will "+(e?"produce":"not produce")+" Monorail events to the console. \n\nIf you want Monorail events to "+(e?"stop":"start")+" appearing here, %cset debugMode="+(!e).toString()+"%c, for the Monorail Log Producer in your code.","font-size: large;","font-size: normal;","font-weight: bold;","font-weight: normal;")},e.prototype.produce=function(e){return this.sendToConsole&&console.log("Monorail event produced",e),new Promise((function(n){n(e)}))},e.prototype.produceBatch=function(e){return this.sendToConsole&&console.log("Monorail Batch event produced",e),new Promise((function(n){n(e)}))},e}();n.LogProducer=t}));S($),$.LogProducer;var ee=N((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCompositeMonorailEvent=function(e){return void 0!==e.schemaId}}));S(ee),ee.isCompositeMonorailEvent;var ne=ee,te=N((function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e){this.producer=e}return e.prototype.do=function(e,n){return ne.isCompositeMonorailEvent(e)?this.producer.produce(e):this.producer.produceBatch(e)},e}();n.ProducerMiddleware=t}));S(te),te.ProducerMiddleware;var oe=Q,re=$,ae=te,ie=N((function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(n,t){this.producer=n,this.middleware=t,this.executeChain=e.buildMiddlewareChain(this.middleware.concat(new ae.ProducerMiddleware(n)))}return e.createLogProducer=function(n){return new e(new re.LogProducer(n.debugMode),n.middleware||[])},e.createHttpProducerWithEndpoint=function(n,t){return void 0===t&&(t=[]),new e(oe.HttpProducer.withEndpoint(n),t)},e.createHttpProducer=function(n){return new e(n.production?new oe.HttpProducer(J.PRODUCTION_DOMAIN):new oe.HttpProducer(J.DEVELOPMENT_DOMAIN),n.middleware||[])},e.buildMiddlewareChain=function(e,n){var t=this;return void 0===n&&(n=0),n===e.length?this.identityFn:function(o){return e[n].do(o,t.buildMiddlewareChain(e,n+1))}},e.prototype.produce=function(e){return e.metadata=b.__assign({eventCreatedAtMs:Date.now(),clientMessageId:K.v4()},e.metadata),this.executeChain(e)},e.prototype.produceBatch=function(e){return this.executeChain(e)},e}();n.Monorail=t}));S(ie),ie.Monorail;var ce=N((function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){void 0===e&&(e=3),void 0===n&&(n=150),this.maxRetries=e,this.delayMs=n}return e.prototype.do=function(e,n){return b.__awaiter(this,void 0,void 0,(function(){var t,o,r,a,i;return b.__generator(this,(function(c){switch(c.label){case 0:t=0,c.label=1;case 1:if(!(t<this.maxRetries))return[3,7];r=void 0,c.label=2;case 2:return c.trys.push([2,4,,6]),[4,n(e)];case 3:return r=c.sent(),[3,6];case 4:if(a=c.sent(),o=o||new Error,o=new Error(o.message+" Retry count:"+(t+1)+" Error msg:"+a.message+"\n"),a instanceof Z.MonorailUnableToProduceError&&(i=a.response.status)&&i>=400&&i<500)throw a;return[4,this.delay(this.delayMs*Math.pow(2,t))];case 5:return c.sent(),t++,[3,1];case 6:return[2,r];case 7:throw o?o.message="Retry count of "+this.maxRetries+" exceeded. Failed with error: \n"+o.message+" Aborting request for "+JSON.stringify(e):o=new Error,new Z.MonorailRetriesExceededError(o)}}))}))},e.prototype.delay=function(e){return new Promise((function(n){return setTimeout(n,e)}))},e}();n.RetryMiddleware=t}));S(ce),ce.RetryMiddleware;var le=ie,se=ce,de=N((function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Monorail=le.Monorail,n.MonorailRequestError=Z.MonorailRequestError,n.MonorailUnableToProduceError=Z.MonorailUnableToProduceError,n.MonorailRetriesExceededError=Z.MonorailRetriesExceededError,n.RetryMiddleware=se.RetryMiddleware}));S(de);var ue=de.Monorail;de.MonorailRequestError,de.MonorailUnableToProduceError,de.MonorailRetriesExceededError,de.RetryMiddleware;var pe,he,fe=function(){function e(){this.VISIT_TOKEN="_shopify_s",this.monorail=ue.createHttpProducer({production:!0})}return e.prototype.shouldEmit=function(e){var n,t;return e===d.Accepted||e!==d.Declined&&(e===d.PrivacyPolicyView&&"yes"===(null===(t=null===(n=null===window||void 0===window?void 0:window.Shopify)||void 0===n?void 0:n.customerPrivacy)||void 0===t?void 0:t.getTrackingConsent()))},e.prototype.emitInteraction=function(e){if(this.shouldEmit(e)){var n=this.getCommonPayload();this.monorail.produce({schemaId:"privacy_banner_interact/1.0",payload:t(t({},n),{interactionType:e})})}},e.prototype.emitRender=function(){var e=this.getCommonPayload();this.monorail.produce({schemaId:"privacy_banner_render/1.0",payload:t({},e)})},e.prototype.getCommonPayload=function(){return{shopPermanentDomain:window.Shopify.shop,sessionToken:C(this.VISIT_TOKEN)||"0",regulation:window.Shopify.customerPrivacy.getRegulation(),path:window.location.pathname}},e}(),me=function(){function e(e,n){this.experimentId="",this.experimentAssignment="",this.experimentConfig=e,this.setExperimentIds(n)}return e.prototype.getBannerProperties=function(){var e=this.getExperimentAssignment();return e?{bannerPlacement:e.bannerPlacement,buttonPlacement:e.buttonPlacement,buttonWeight:e.buttonWeight,overlay:e.overlay}:null},e.prototype.getBannerData=function(){var e=this.getExperimentAssignment(),n={};return void 0!==(null==e?void 0:e.acceptButtonCopy)&&(n.acceptButtonCopy=e.acceptButtonCopy||""),void 0!==(null==e?void 0:e.declineButtonCopy)&&(n.declineButtonCopy=e.declineButtonCopy||""),void 0!==(null==e?void 0:e.title)&&(n.title=e.title||""),void 0!==(null==e?void 0:e.bannerCopy)&&(n.bannerCopy=e.bannerCopy||""),n},e.prototype.getExperimentAssignment=function(){var e=this;if(this.experimentId&&this.experimentAssignment){var n=g(this.experimentConfig,(function(n){return n.id===e.experimentId}));return g(null==n?void 0:n.assignments,(function(n){return n.id===e.experimentAssignment}))}return null},e.prototype.setExperimentIds=function(e){var n,t,o=(null==e?void 0:e.experiments)||[],r=null===(n=o[0])||void 0===n?void 0:n.experimentId,a=null===(t=o[0])||void 0===t?void 0:t.experimentAssignment,i=v("experiment-id"),c=v("experiment-assignment");this.experimentId=i||r,this.experimentAssignment=c||a},e}();!function(e){e.Example="example",e.BannerPlacement="customer_privacy_banner_placement_experiment",e.BannerPlacementV2="customer_privacy_banner_placement_experiment_v2",e.BannerBodyCopy="customer_privacy_body_copy_experiment",e.CtaPlacement="customer_privacy_button_placement_experiment",e.CtaContent="customer_privacy_button_content_experiment",e.CtaWeight="customer_privacy_button_weight_experiment",e.BannerHeadline="customer_privacy_headline_content_experiment",e.BannerOverlay="customer_privacy_overlay_effect_experiment",e.VariableCombination="customer_privacy_variable_combination_experiment"}(pe||(pe={})),function(e){e.Example1="1",e.Example2="2",e.Example3="3",e.Example4="4",e.Example5="5",e.Example6="6",e.Example7="7",e.Example8="8",e.Example9="9",e.BannerPlacementFullWidth="control",e.BannerPlacementCenter="test_group_a",e.BannerPlacementBottomLeft="test_group_b",e.BannerPlacementBottomRight="test_group_c",e.BannerPlacementV2FullWidth="control",e.BannerPlacementV2Center="test_group_a",e.BannerPlacementV2BottomLeft="test_group_b",e.BannerPlacementV2BottomCenter="test_group_c",e.BannerBodyCopyMinimalText="control",e.BannerBodyCopyMoreDetails="test_group_a",e.BannerBodyCopyMoreTechnicalAndLegalDetails="test_group_b",e.CtaPlacementAcceptFirst="control",e.CtaPlacementDeclineFirst="test",e.CtaContentConversational="control",e.CtaContentUnambiguous="test_group_a",e.CtaContentPersonallyDriven="test_group_b",e.CtaWeightWeighted="control",e.CtaWeightFill="test_group_a",e.CtaWeightOutline="test_group_b",e.BannerHeadlineUserEmpathy="control",e.BannerHeadlinePersonalizedWithShopName="test_group_a",e.BannerHeadlineNoHeadline="test_group_b",e.BannerOverlayNo="control",e.BannerOverlayYes="test",e.VariableCombinationControl="control",e.VariableCombinationWinners="test_group_a",e.VariableCombinationWinnerAlt="test_group_b"}(he||(he={}));var ye,be={id:pe.Example,assignments:[{id:he.Example1,desc:"",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.Yes},{id:he.Example2,desc:"",bannerPlacement:h.Center,buttonPlacement:f.DeclineFirst,buttonWeight:m.Outline,overlay:y.Yes},{id:he.Example3,desc:"",bannerPlacement:h.BottomLeft,buttonPlacement:f.AcceptFirst,buttonWeight:m.Fill,overlay:y.Yes},{id:he.Example4,desc:"",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Fill,overlay:y.No},{id:he.Example5,desc:"",bannerPlacement:h.Center,buttonPlacement:f.AcceptFirst,buttonWeight:m.Fill,overlay:y.No},{id:he.Example6,desc:"",bannerPlacement:h.BottomLeft,buttonPlacement:f.DeclineFirst,buttonWeight:m.Outline,overlay:y.No},{id:he.Example7,desc:"",bannerPlacement:h.BottomRight,buttonPlacement:f.AcceptFirst,buttonWeight:m.Fill,overlay:y.Yes},{id:he.Example8,desc:"",bannerPlacement:h.BottomRight,buttonPlacement:f.AcceptFirst,buttonWeight:m.Fill,overlay:y.No},{id:he.Example9,desc:"",bannerPlacement:h.BottomRight,buttonPlacement:f.DeclineFirst,buttonWeight:m.Outline,overlay:y.No}]},ge={id:pe.BannerBodyCopy,assignments:[{id:he.BannerBodyCopyMinimalText,desc:"Control: Minimal text in the body",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,acceptButtonCopy:"Accept",declineButtonCopy:"Do not accept",bannerCopy:"We use cookies and similar technologies to provide the best experience on our website."},{id:he.BannerBodyCopyMoreDetails,desc:"More details regarding data collection and usage in the body",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,acceptButtonCopy:"Accept",declineButtonCopy:"Do not accept",bannerCopy:'We and our partners use technologies, which may be stored on your device, and process personal data like IP addresses or device identifiers on our platforms. If you\'re OK with this, please click "Accept." If you\'re not, you can click "Do not accept."'},{id:he.BannerBodyCopyMoreTechnicalAndLegalDetails,desc:"More technical and legal details compared to the other two variants",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,acceptButtonCopy:"Accept",declineButtonCopy:"Do not accept",bannerCopy:'We and our partners use technologies, such as cookies stored on your device, and process personal data like IP addresses or device identifiers on our platforms. We use this data to analyze how our website is used and provide you with personalized advertising. If you\'re OK with this, please click "Accept." If you\'re not, you can click "Do not accept."'}]},ve="{{{SHOPNAME}}}",Ce=[be,ge,{id:pe.BannerHeadline,assignments:[{id:he.BannerHeadlineUserEmpathy,desc:"Control: Sense of user empathy in the headline",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,title:"We care about your privacy",acceptButtonCopy:"Accept",declineButtonCopy:"Do not accept",bannerCopy:'We and our partners use technologies, which may be stored on your device, and process personal data like IP addresses or device identifiers on our platforms. If you\'re OK with this, please click "Accept." If you\'re not, you can click "Do not accept."'},{id:he.BannerHeadlinePersonalizedWithShopName,desc:"More personalized headline that contains the shop name",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,title:"".concat(ve," and privacy"),acceptButtonCopy:"Accept",declineButtonCopy:"Do not accept",bannerCopy:'We and our partners use technologies, which may be stored on your device, and process personal data like IP addresses or device identifiers on our platforms. If you\'re OK with this, please click "Accept." If you\'re not, you can click "Do not accept."'},{id:he.BannerHeadlineNoHeadline,desc:"Without any headlines",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,title:"",acceptButtonCopy:"Accept",declineButtonCopy:"Do not accept",bannerCopy:'We and our partners use technologies, which may be stored on your device, and process personal data like IP addresses or device identifiers on our platforms. If you\'re OK with this, please click "Accept." If you\'re not, you can click "Do not accept."'}]},{id:pe.BannerOverlay,assignments:[{id:he.BannerOverlayNo,desc:"Control: Allows the user to interact with the site - no overlay",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No},{id:he.BannerOverlayYes,desc:"Translucent overlay which obstructs site content",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.Yes}]},{id:pe.BannerPlacement,assignments:[{id:he.BannerPlacementFullWidth,desc:"Control: Full width bottom",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No},{id:he.BannerPlacementCenter,desc:"Center aligned",bannerPlacement:h.Center,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No},{id:he.BannerPlacementBottomLeft,desc:"Bottom left",bannerPlacement:h.BottomLeft,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No},{id:he.BannerPlacementBottomRight,desc:"Bottom right",bannerPlacement:h.BottomRight,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No}]},{id:pe.BannerPlacementV2,assignments:[{id:he.BannerPlacementV2FullWidth,desc:"Control: Full width bottom",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No},{id:he.BannerPlacementV2Center,desc:"Center aligned",bannerPlacement:h.Center,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No},{id:he.BannerPlacementV2BottomLeft,desc:"Bottom left",bannerPlacement:h.BottomLeft,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No},{id:he.BannerPlacementV2BottomCenter,desc:"Bottom center",bannerPlacement:h.BottomCenter,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No}]},{id:pe.CtaContent,assignments:[{id:he.CtaContentConversational,desc:'Control: "Ok" and "No, thank you" - Conversational',bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,acceptButtonCopy:"Ok",declineButtonCopy:"No Thanks"},{id:he.CtaContentUnambiguous,desc:'Unambiguous "Accept" and "Do not accept"',bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,acceptButtonCopy:"Accept",declineButtonCopy:"Do not accept"},{id:he.CtaContentPersonallyDriven,desc:'Personally driven "Yes, I agree" and "No, I decline"',bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,acceptButtonCopy:"Yes, I agree",declineButtonCopy:"No, I decline"}]},{id:pe.CtaPlacement,assignments:[{id:he.CtaPlacementAcceptFirst,desc:"Control: Accept button on the left side of the banner and decline button on the right",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No},{id:he.CtaPlacementDeclineFirst,desc:"Accept button on the right side of the banner and decline button on the left",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.DeclineFirst,buttonWeight:m.Weighted,overlay:y.No}]},{id:pe.CtaWeight,assignments:[{id:he.CtaWeightWeighted,desc:'Control: Weighted - Filled "Ok" button',bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No},{id:he.CtaWeightFill,desc:'Both "accept" and "decline" buttons filled',bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Fill,overlay:y.No},{id:he.CtaWeightOutline,desc:'Both "accept" and "decline" buttons outlined',bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Outline,overlay:y.No}]},{id:pe.VariableCombination,assignments:[{id:he.VariableCombinationControl,desc:"Control group - Existing prod experience.",bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted,overlay:y.No,acceptButtonCopy:"Ok",declineButtonCopy:"No thanks",title:"We care about your privacy",bannerCopy:"We use cookies and similar technologies to provide the best experience on our website."},{id:he.VariableCombinationWinners,desc:"Banner with elements that yielded the highest consent rate in past tests.",bannerPlacement:h.Center,buttonPlacement:f.AcceptFirst,buttonWeight:m.Outline,overlay:y.No,acceptButtonCopy:"Accept",declineButtonCopy:"Do not accept",title:"We care about your privacy",bannerCopy:"We and our partners use technologies, which may be stored on your device, and process personal data like IP addresses or device identifiers on our platforms. If you're ok with this, please click “Accept.” If you're not, you can click \"Do not accept.\""},{id:he.VariableCombinationWinnerAlt,desc:"Banner with elements that yielded the highest consent rate in past tests, with more user-friendly copy.",bannerPlacement:h.Center,buttonPlacement:f.AcceptFirst,buttonWeight:m.Outline,overlay:y.No,acceptButtonCopy:"Accept all",declineButtonCopy:"Decline all",title:"We value your privacy",bannerCopy:'We and our partners use cookies and other technologies stored on your device to improve your experience on our site and understand how you interact with our products. We also process personal data like IP addresses to provide you with ads and search results relevant to you. If that\'s OK, click "Accept all." If not, click "Decline all." More details in our'}]}];function _e(e,n){return(null==n?void 0:n.id)&&e.setAttribute("id",n.id),(null==n?void 0:n.class)&&e.setAttribute("class",n.class),(null==n?void 0:n.onClick)&&e.addEventListener("click",n.onClick),(null==n?void 0:n.appendTo)&&n.appendTo.appendChild(e),(null==n?void 0:n.role)&&e.setAttribute("role",n.role),(null==n?void 0:n.autofocus)&&e.setAttribute("autofocus",""),(null==n?void 0:n.ariaHidden)&&e.setAttribute("aria-hidden","".concat(null==n?void 0:n.ariaHidden)),e}function xe(e){var n=_e(document.createElement("div"),e);return(null==e?void 0:e.text)&&(n.textContent=e.text),(null==e?void 0:e.ariaModal)&&n.setAttribute("aria-modal",e.ariaModal),(null==e?void 0:e.ariaLabelledby)&&n.setAttribute("aria-labelledby",e.ariaLabelledby),(null==e?void 0:e.ariaDescribedby)&&n.setAttribute("aria-describedby",e.ariaDescribedby),n}function we(e){var n=_e(document.createElement("span"),e);return(null==e?void 0:e.text)&&(n.textContent=e.text),n}function Be(e){var n,t=_e(document.createElement("button"),e);return t.textContent=null!==(n=null==e?void 0:e.text)&&void 0!==n?n:null,e.disabled&&t.setAttribute("disabled",""),e.ariaHaspopup&&t.setAttribute("aria-haspopup",e.ariaHaspopup),e.type&&t.setAttribute("type",e.type),e.ariaLabel&&t.setAttribute("aria-label",e.ariaLabel),t}function Pe(e){var n=_e(document.createElement("p"),e);return n.textContent=e.text,n}function Ie(e,n){var t=_e(document.createElement(e),n);return t.textContent=n.text,t}function Ee(e){return Ie(ye.H2,e)}function Ae(e){return Ie(ye.H3,e)}function Oe(e){var n=_e(document.createElement("style"),e);return n.textContent=e.content,n}function De(e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"width",e.width),n.setAttributeNS(null,"height",e.height),n.setAttributeNS(null,"viewBox","0 0 ".concat(e.width," ").concat(e.height)),(null==e?void 0:e.fillRule)&&n.setAttributeNS(null,"fill-rule",e.fillRule),(null==e?void 0:e.clipRule)&&n.setAttributeNS(null,"clip-rule",e.clipRule);var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"fill",(null==e?void 0:e.colour)||"#000"),t.setAttributeNS(null,"d",e.path),n.appendChild(t),(null==e?void 0:e.id)&&n.setAttribute("id",e.id),(null==e?void 0:e.class)&&n.setAttribute("class",e.class),(null==e?void 0:e.dataIconType)&&n.setAttribute("data-icon-type",e.dataIconType),(null==e?void 0:e.ariaHidden)&&n.setAttribute("aria-hidden","".concat(null==e?void 0:e.ariaHidden)),(null==e?void 0:e.appendTo)&&e.appendTo.appendChild(n),n}function ke(e){var n=_e(document.createElement("section"),e);return(null==e?void 0:e.text)&&(n.textContent=e.text),(null==e?void 0:e.ariaModal)&&n.setAttribute("aria-modal",e.ariaModal),(null==e?void 0:e.ariaLabelledby)&&n.setAttribute("aria-labelledby",e.ariaLabelledby),(null==e?void 0:e.ariaDescribedby)&&n.setAttribute("aria-describedby",e.ariaDescribedby),n}function We(e,n,t){void 0===n&&(n=!1),void 0===t&&(t=!1);var o=ke({id:u.DialogId,class:u.DialogClass,role:"dialog",ariaModal:"false",ariaLabelledby:u.BodyTitleId,ariaDescribedby:u.BodyCopyId}),r=xe({class:u.WrapperClass});o.appendChild(r);var a=ke({class:u.BodyClass});r.appendChild(a);var i=ke({class:u.ButtonsClass});r.appendChild(i),function(e,n){if(e.title){var t=Ee({id:u.BodyTitleId,text:e.title});n.appendChild(t)}}(e,a),function(e,n){var t=Pe({id:u.BodyCopyId,text:"".concat(e.bannerCopy," ")}),o=function(e){var n=_e(document.createElement("a"),e);return n.setAttribute("href",e.href),n.textContent=e.text,n.setAttribute("target",void 0===e.target?"_blank":e.target),e.target&&"_blank"!==e.target||n.setAttribute("rel","noopener noreferrer"),n}({id:u.BodyCopyPolicyLinkId,href:e.policyLink,target:"_blank",text:e.policyTitle?e.policyTitle:"Privacy Policy"});t.appendChild(o),n.appendChild(t)}(e,a);var c=window.location.search.includes("ShopifyInternalEnableGranularBanner=true"),l=e.granularConsentEnabled;return(c&&l||t&&l)&&(!function(e,n){var t=we({text:e.managePrefsButtonCopy}),o=Be({id:u.ButtonManagePrefsId,class:u.ButtonManagePrefsClass,ariaHaspopup:"dialog",type:"button"});o.appendChild(t),n.appendChild(o)}(e,i),i.classList.add(u.ButtonsGranularClass)),function(e,n,t){n.appendChild(Be({disabled:t,id:u.ButtonAcceptId,class:u.ButtonAcceptClass,type:"button",text:e.acceptButtonCopy}))}(e,i,n),function(e,n,t){n.appendChild(Be({disabled:t,id:u.ButtonDeclineId,class:u.ButtonDeclineClass,type:"button",text:e.declineButtonCopy}))}(e,i,n),o}function Me(e,n,t){void 0===t&&(t=!1);var o,r=(o={appendTo:e},_e(document.createElement("header"),o));!function(e,n,t){var o=Be({disabled:t,id:p.HeaderCloseId,class:p.HeaderCloseClass,ariaLabel:n,type:"button",text:""});De({appendTo:o,ariaHidden:!0,width:"12",height:"12",path:"M7.41401 6.00012L11.707 1.70721C12.098 1.31622 12.098 0.684236 11.707 0.293244C11.316 -0.097748 10.684 -0.097748 10.293 0.293244L6.00001 4.58615L1.70701 0.293244C1.31601 -0.097748 0.684006 -0.097748 0.293006 0.293244C-0.0979941 0.684236 -0.0979941 1.31622 0.293006 1.70721L4.58601 6.00012L0.293006 10.293C-0.0979941 10.684 -0.0979941 11.316 0.293006 11.707C0.488006 11.902 0.744006 12 1.00001 12C1.25601 12 1.51201 11.902 1.70701 11.707L6.00001 7.4141L10.293 11.707C10.488 11.902 10.744 12 11 12C11.256 12 11.512 11.902 11.707 11.707C12.098 11.316 12.098 10.684 11.707 10.293L7.41401 6.00012Z"}),e.appendChild(o)}(r,"Close dialog",t),Ee({id:p.HeaderTitleId,text:n.granularConsentTitle,appendTo:r});var a=ke({class:p.HeaderActionsClass,appendTo:r});return function(e,n,t){var o=Be({disabled:t,id:p.HeaderSaveId,class:p.HeaderSaveClass,type:"button",text:n});t&&(o.style.display="block");e.appendChild(o)}(a,n.granularConsentSubmitCopy,t),function(e,n,t){e.appendChild(Be({disabled:t,id:p.HeaderAcceptId,type:"button",text:n}))}(a,n.granularConsentAcceptAllCopy,t),function(e,n,t){e.appendChild(Be({disabled:t,id:p.HeaderDeclineId,type:"button",text:n}))}(a,n.granularConsentDeclineAllCopy,t),r}function Se(e,n){var t=ke({class:p.IntroClass,appendTo:e});return function(e,n){var t=xe({class:p.IntroMainClass,appendTo:e});Ae({text:n.granularConsentCopyTitle,appendTo:t}),Pe({id:p.IntroMainDescId,text:n.granularConsentCopy,appendTo:t})}(t,n),n.granularConsentIfAccept&&n.granularConsentIfAcceptList&&function(e,n){var t=xe({class:p.IntroExplainWrapperClass,appendTo:e}),o=ke({class:p.IntroExplainAcceptClass,appendTo:t});Ae({text:n.granularConsentIfAccept,appendTo:o}),function(e){var n=_e(document.createElement("ul"),e);if(e.li)for(var t=0,o=e.li.split("\n");t<o.length;t++){var r=o[t],a=document.createElement("li");a.textContent=r,n.appendChild(a)}}({li:n.granularConsentIfAcceptList,appendTo:o})}(t,n),t}function Ne(e){var n=e.themeColours,t=e.purpose,o=e.ids,r=e.parent,a=De({dataIconType:"unchecked",width:"24",height:"24",path:"M5 2c-1.654 0-3 1.346-3 3v14c0 1.654 1.346 3 3 3h14c1.654 0 3-1.346 3-3v-14c0-1.654-1.346-3-3-3h-14zm19 3v14c0 2.761-2.238 5-5 5h-14c-2.762 0-5-2.239-5-5v-14c0-2.761 2.238-5 5-5h14c2.762 0 5 2.239 5 5z",colour:n.iconColor}),i=function(e){return De({dataIconType:"checked",width:"24",height:"24",path:"M19 0h-14c-2.762 0-5 2.239-5 5v14c0 2.761 2.238 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-8.959 17l-4.5-4.319 1.395-1.435 3.08 2.937 7.021-7.183 1.422 1.409-8.418 8.591z",colour:e})}(n.iconColor),c=ke({class:p.OptionClass,id:o.section}),l=Pe({id:o.desc,text:t.longDescription}),s=o.input===p.OptionEssentialInputId,d=function(e){var n=_e(document.createElement("input"),e);return n.setAttribute("type",e.type),e.checked&&n.setAttribute("checked","true"),e.disabled&&n.setAttribute("disabled","".concat(e.disabled)),(null==e?void 0:e.onChange)&&n.addEventListener("change",e.onChange),e.tabindex&&n.setAttribute("tabindex","".concat(e.tabindex)),void 0!==e.ariaReadonly&&n.setAttribute("aria-readonly","".concat(e.ariaReadonly)),(null==e?void 0:e.ariaDescribedby)&&n.setAttribute("aria-describedby",e.ariaDescribedby),n}({id:o.input,type:"checkbox",checked:s,ariaReadonly:s,ariaDescribedby:o.desc,tabindex:"0"}),u=function(e){var n=_e(document.createElement("label"),e);return n.setAttribute("for",e.for),(null==e?void 0:e.text)&&(n.textContent=e.text),n}({for:o.input,text:t.description}),h=we({ariaHidden:!0});if(u.appendChild(d),o.input===p.OptionEssentialInputId){var f=xe({class:p.OptionEssentialWrapperClass}),m=function(e){var n=_e(document.createElement("em"),e);return(null==e?void 0:e.text)&&(n.textContent=e.text),n}({text:t.label});f.appendChild(m),f.appendChild(h),u.appendChild(f),i.style.display="block",a.style.display="none"}else u.appendChild(h),i.style.display="none",a.style.display="block";h.appendChild(i),h.appendChild(a),c.appendChild(u),c.appendChild(l),r.appendChild(c)}function Te(e,n){void 0===n&&(n=!1);var t=xe({id:p.WrapperId,class:p.WrapperClass}),o=xe({id:p.OverlayId,class:p.OverlayClass,text:" "});t.appendChild(o);var r=ke({id:p.DialogId,class:p.DialogClass,role:"dialog",ariaModal:"true",ariaLabelledby:p.HeaderTitleId,ariaDescribedby:p.IntroMainDescId});t.appendChild(r),Me(r,e,n);var a=xe({class:p.DialogScrollableClass});return r.appendChild(a),Se(a,e),function(e,n,t){var o=A(n.theme,n.themeColorHslFont,n.themeColorHslBackground,n.themeColorHslButtonFont,n.themeColorHslButtonBackground),r=ke({class:p.OptionWrapperClass});e.appendChild(r),Ne({themeColours:o,ids:{section:p.OptionEssentialId,input:p.OptionEssentialInputId,desc:p.OptionEssentialDescId},purpose:{description:n.essentialPurposeShortDescription,longDescription:n.essentialPurposeLongDescription,label:n.granularConsentEssentialCopy},parent:r,adminPreview:t}),Ne({themeColours:o,ids:{section:p.OptionAnalyticsId,input:p.OptionAnalyticsInputId,desc:p.OptionAnalyticsDescId},purpose:{description:n.performancePurposeShortDescription,longDescription:n.performancePurposeLongDescription},parent:r,adminPreview:t}),Ne({themeColours:o,ids:{section:p.OptionPreferencesId,input:p.OptionPreferencesInputId,desc:p.OptionPreferencesDescId},purpose:{description:n.preferencesPurposeShortDescription,longDescription:n.preferencesPurposeLongDescription},parent:r,adminPreview:t}),Ne({themeColours:o,ids:{section:p.OptionMarketingId,input:p.OptionMarketingInputId,desc:p.OptionMarketingDescId},purpose:{description:n.marketingPurposeShortDescription,longDescription:n.marketingPurposeLongDescription},parent:r,adminPreview:t})}(a,e,n),t}!function(e){e.H1="h1",e.H2="h2",e.H3="h3"}(ye||(ye={}));var Fe=function(){function e(){}return e.show=function(n){var t=n.showBanner,o=document.getElementById(p.WrapperId);null!==o&&(o.style.display="block",e.disableBackgroundScrolling());var r=document.getElementById(p.HeaderCloseId);null==r||r.addEventListener("click",(function(){t&&t(),e.hide()})),null==o||o.addEventListener("keydown",(function(n){n.defaultPrevented||"Escape"===n.code&&(t&&t(),e.hide())}));var a=document.getElementById(p.HeaderAcceptId);null==a||a.focus()},e.hide=function(){var n=document.getElementById(p.WrapperId);null!==n&&(n.style.display="none",e.enableBackgroundScrolling())},e.selectedConsent=function(){var e=document.getElementById(p.OptionMarketingInputId),n=document.getElementById(p.OptionAnalyticsInputId),t=document.getElementById(p.OptionPreferencesInputId),o=e.checked?"1":"0",r=n.checked?"1":"0",a=t.checked?"1":"0";return"".concat(o).concat(r).concat(a)},e.addCSS=function(e){var n=O(e),t=Oe({id:p.StylesContainerId,content:n});document.head.appendChild(t)},e.addHTML=function(n){var t,o,r,a=Te(n),i=document.getElementById(u.DialogId);o=a,null===(r=null==(t=i)?void 0:t.parentNode)||void 0===r||r.insertBefore(o,t.nextSibling);var c=document.getElementById(p.DialogId);c&&(c.dataset.consent=e.selectedConsent()),e.setupEventHandlers()},e.setupEventHandlers=function(){M()||e.setupButtonEventHandlers(),e.setupCheckboxEventHandlers()},e.setupButtonEventHandlers=function(){var n=document.getElementById(p.HeaderSaveId);null==n||n.addEventListener("click",(function(){var n=document.getElementById(p.OptionMarketingInputId),t=document.getElementById(p.OptionAnalyticsInputId),o=document.getElementById(p.OptionPreferencesInputId);window.Shopify.customerPrivacy.setTrackingConsent({marketing:n.checked,analytics:t.checked,preferences:o.checked},e.hide)}));var t=document.getElementById(p.HeaderAcceptId);null==t||t.addEventListener("click",(function(){window.Shopify.customerPrivacy.setTrackingConsent(!0,e.hide)}));var o=document.getElementById(p.HeaderDeclineId);null==o||o.addEventListener("click",(function(){window.Shopify.customerPrivacy.setTrackingConsent(!1,e.hide)}))},e.setupCheckboxEventHandlers=function(){var n=document.getElementById(p.OptionEssentialInputId);null==n||n.addEventListener("change",(function(n){e.handleOptionChange({target:n.target,isReadOnly:!0,sectionId:p.OptionEssentialId})}));var t=document.getElementById(p.OptionAnalyticsInputId);null==t||t.addEventListener("change",(function(n){e.handleOptionChange({target:n.target,isReadOnly:!1,sectionId:p.OptionAnalyticsId})}));var o=document.getElementById(p.OptionPreferencesInputId);null==o||o.addEventListener("change",(function(n){e.handleOptionChange({target:n.target,isReadOnly:!1,sectionId:p.OptionPreferencesId})}));var r=document.getElementById(p.OptionMarketingInputId);null==r||r.addEventListener("change",(function(n){e.handleOptionChange({target:n.target,isReadOnly:!1,sectionId:p.OptionMarketingId})}))},e.handleOptionChange=function(n){var t=n.target,o=n.isReadOnly,r=n.sectionId;o&&(t.checked=!0);var a,i,c,l=t.checked,s=document.getElementById(r),d=s.querySelector('label span svg[data-icon-type="checked"]'),u=s.querySelector('label span svg[data-icon-type="unchecked"]');l?(d.style.display="block",u.style.display="none"):(d.style.display="none",u.style.display="block"),a=e.selectedConsent(),i=document.getElementById(p.DialogId),c=document.getElementById(p.HeaderSaveId),(null==i?void 0:i.dataset.consent)===a?c.style.display="none":c.style.display="block"},e.enableBackgroundScrolling=function(){document.body.style.removeProperty("overflow")},e.disableBackgroundScrolling=function(){document.body.style.setProperty("overflow","hidden")},e}(),He=function(){function e(){this.bannerProperties={bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted},this.shopName="",this.logger=new fe}return e.show=function(){var e=document.getElementById(u.DialogId);null!==e&&(e.style.display="block");var n=document.getElementById(u.ButtonManagePrefsId);null==n||n.focus()},e.hide=function(){var e=document.getElementById(u.DialogId);null!==e&&(e.style.display="none")},e.prototype.init=function(){return o(this,void 0,void 0,(function(){var e,n,t,o,a;return r(this,(function(r){switch(r.label){case 0:return this.removeExistingElements(),this.shopName=this.getShopNameFromMetaTag(),[4,k.getServerData({shopName:this.shopName})];case 1:return e=r.sent(),n=new me(Ce,e),t=n.getBannerProperties(),o=n.getBannerData(),this.setBannerProperties(e,t),a=this.setBannerData(e,o),this.render(a),[2]}}))}))},e.prototype.getShopNameFromMetaTag=function(){var e,n=null===(e=document.querySelector("meta[property='og:site_name']"))||void 0===e?void 0:e.getAttribute("content");return null!=n?n:""},e.prototype.bannerPositionToBannerPlacement=function(e){try{return e.replace(/_/g,"-")}catch(e){return h.BottomFullWidth}},e.prototype.setBannerProperties=function(e,n){e.bannerPosition&&(this.bannerProperties.bannerPlacement=this.bannerPositionToBannerPlacement(e.bannerPosition)),(null==n?void 0:n.bannerPlacement)&&(this.bannerProperties.bannerPlacement=n.bannerPlacement),(null==n?void 0:n.buttonPlacement)&&(this.bannerProperties.buttonPlacement=n.buttonPlacement),(null==n?void 0:n.buttonWeight)&&(this.bannerProperties.buttonWeight=n.buttonWeight)},e.prototype.setBannerData=function(e,n){var o=t({},e);return(null==n?void 0:n.acceptButtonCopy)&&(o.acceptButtonCopy=n.acceptButtonCopy),(null==n?void 0:n.declineButtonCopy)&&(o.declineButtonCopy=n.declineButtonCopy),"string"==typeof(null==n?void 0:n.title)&&(o.title=this.getBannerDataTitle(n.title)),(null==n?void 0:n.bannerCopy)&&(o.bannerCopy=n.bannerCopy),o},e.prototype.getBannerDataTitle=function(e){return e.includes(ve)?e.replace(ve,this.shopName):e},e.prototype.render=function(n){if(M())return Object.keys(n).length?(this.addCSS(n),this.addBannerHTML(n),void e.show()):void console.warn("banner not rendered due to lack of saved data");this.merchantHasPublished(n)&&(this.addCSS(n),this.addBannerHTML(n),e.show(),this.logger.emitRender())},e.prototype.addCSS=function(e){var n=Oe({id:u.StylesContainerId,content:D(e,!1,this.bannerProperties)});document.head.appendChild(n)},e.prototype.addBannerHTML=function(e){var n=We(e),t=document.getElementsByTagName("body")[0];t.insertBefore(n,t.firstChild),this.addEventListeners(e)},e.prototype.removeExistingElements=function(){var e,n,t=document.getElementById(u.DialogId),o=document.getElementById(u.StylesContainerId);null===(e=null==t?void 0:t.parentNode)||void 0===e||e.removeChild(t),null===(n=null==o?void 0:o.parentNode)||void 0===n||n.removeChild(o)},e.prototype.addEventListeners=function(n){M()||(this.addEssentialEventListeners(),this.addMetricsEventListeners());var t=document.getElementById(u.ButtonManagePrefsId);null==t||t.addEventListener("click",(function(){var t=document.getElementById(p.WrapperId);e.hide(),t||(Fe.addCSS(n),Fe.addHTML(n)),Fe.show({showBanner:e.show})}))},e.prototype.addEssentialEventListeners=function(){var n=document.getElementById(u.ButtonAcceptId);null==n||n.addEventListener("click",(function(){window.Shopify.customerPrivacy.setTrackingConsent(!0,e.hide)}));var t=document.getElementById(u.ButtonDeclineId);null==t||t.addEventListener("click",(function(){window.Shopify.customerPrivacy.setTrackingConsent(!1,e.hide)}))},e.prototype.addMetricsEventListeners=function(){var e=this,n=document.getElementById(u.BodyCopyPolicyLinkId);null==n||n.addEventListener("click",(function(){e.logger.emitInteraction(d.PrivacyPolicyView)}));var t=document.getElementById(u.ButtonAcceptId);null==t||t.addEventListener("click",(function(){e.logger.emitInteraction(d.Accepted)}));var o=document.getElementById(u.ButtonDeclineId);null==o||o.addEventListener("click",(function(){e.logger.emitInteraction(d.Declined)}))},e.prototype.merchantHasPublished=function(e){return!0===(null==e?void 0:e.visible)},e.adminPreviewBannerProperties={bannerPlacement:h.BottomFullWidth,buttonPlacement:f.AcceptFirst,buttonWeight:m.Weighted},e}();function Le(){return o(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return M()||function(){var e,n,t,o,r;return(null===(n=null===(e=window.Shopify)||void 0===e?void 0:e.customerPrivacy)||void 0===n?void 0:n.doesMerchantSupportGranularConsent())?W()&&(null===(r=null===(o=null===(t=window.Shopify)||void 0===t?void 0:t.customerPrivacy)||void 0===o?void 0:o.unstable)||void 0===r?void 0:r.shouldShowBanner()):W()&&void 0!==window.Shopify&&void 0!==window.Shopify.customerPrivacy&&"GDPR"===window.Shopify.customerPrivacy.getRegulation()&&window.Shopify.customerPrivacy.isRegulationEnforced()&&"no_interaction"===window.Shopify.customerPrivacy.getTrackingConsent()}()?[4,(new He).init()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}window.Shopify&&window.Shopify.loadFeatures([{name:"consent-tracking-api",version:"0.1"}],(function(e){if(e)throw e;Le()})),e.loadBanner=Le,Object.defineProperty(e,"__esModule",{value:!0})}({});
