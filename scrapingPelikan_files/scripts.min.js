define(["jquery",'enquire',"slick","selectivizr","jscroll","blazy","fancybox","bootstrap",'mobilemenu','mage/translate'],function($,enquire){"use strict";Number.isInteger=Number.isInteger||function(value){return typeof value==='number'&&isFinite(value)&&Math.floor(value)===value;};function doWhen(toDo,whenCase,once,frequency,numberOfRetries){if(typeof once=='undefined')once=true;if(typeof frequency=='undefined')frequency=1000;if(typeof numberOfRetries=='undefined')numberOfRetries=20;var retryThreshold=0;var interval=setInterval(function(whenCase,toDo,once){retryThreshold++;var whenResult=whenCase();if(whenResult){toDo(whenResult);if(once){clearInterval(interval);}}else{if(retryThreshold===numberOfRetries){clearInterval(interval);}}},frequency,whenCase,toDo,once);}
var brm={init:function(){this.documentReady(this);this.scrollToTop();this.qtyinput('input.qty');this.autoOpenCart();this.prettyForms();},equalheight:function(container){var currentTallest=0,currentRowStart=0,rowDivs=new Array(),$el,topPosition=0;$(document).ready(function($){$('.sqr-closeButton').click(function(e){e.preventDefault();});$("#sooqrView1b49391f273b3279").wrap("<div class='search-container'></div>");$(container).each(function(){$el=$(this);$($el).height('auto')
topPostion=$el.position().top;if(currentRowStart!=topPostion){for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].outerHeight(currentTallest);}
rowDivs.length=0;currentRowStart=topPostion;currentTallest=$el.outerHeight();rowDivs.push($el);}else{rowDivs.push($el);currentTallest=(currentTallest<$el.outerHeight())?($el.outerHeight()):(currentTallest);}
for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].outerHeight(currentTallest);}});});},qtyinput:function(inputclass){var inputs=$(inputclass).not('.handled');var minValue=1;inputs.wrap('<div class="quantity-wrap"></div>').after('<span id="qtyplus" class="qty-controler plus"></span>').before('<span id="qtyminus" class="qty-controler minus"></span>').addClass('handled');inputs.siblings(".plus").click(function(){var qtyEle=$(this).prev('input[type="text"]');var currentVal=parseInt(qtyEle.val());if(!currentVal||currentVal==""||currentVal=="NaN")currentVal=0;if(qtyEle.attr('data-max')&&currentVal>=parseInt(qtyEle.attr('data-max'))){currentVal=currentVal-1;}
var iid=$(this).parent().siblings('.update-cart-item');$(this).prev('input[type="text"]').val(currentVal+1).change();iid.fadeIn();});inputs.siblings(".minus").click(function(){var currentVal=parseInt($(this).next('input[type="text"]').val());if(currentVal=="NaN")currentVal=1;if(currentVal>1){$(this).next('input[type="text"]').val(currentVal-1).change();var iid=$(this).parent().siblings('.update-cart-item');iid.fadeIn();}});},prettyForms:function(){$('body').on('change focus blur','input, textarea, select',function(){var $field=$(this);if($field.val()){$field.closest('.control-container').addClass('has-value');}else{$field.closest('.control-container').removeClass('has-value');}}).change();$('.field.engraving-option input').on('change focus blur keydown',function(){var $field=$(this);if($field.val()){$field.closest('.field.engraving-option').addClass('has-value');}else{$field.closest('.field.engraving-option').removeClass('has-value');}}).change();$('.message-one-line input').on('change focus blur keydown',function(){var $field=$(this);if($field.val()){$field.closest('.message-one-line').addClass('has-value');}else{$field.closest('.message-one-line').removeClass('has-value');}}).change();$('.message-two-line input').on('change focus blur keydown',function(){var $field=$(this);if($field.val()){$field.closest('.message-two-line').addClass('has-value');}else{$field.closest('.message-two-line').removeClass('has-value');}}).change();$('.account input').on('change focus blur keydown keypress',function(){var $field=$(this);if($field.val()){$field.closest('.field').addClass('has-value');}else{$field.closest('.field').removeClass('has-value');}}).change();$('input').on('focus change keyup blur',function(event){var $field=$(this);var $container=$field.closest('.control-container');var isValid=null;$container.find('.error_msg').remove();if('focus'==event.type){$container.removeClass('invalid');}
if('change'==event.type||'keyup'==event.type){if($field.prop('pattern')&&!this.validity.patternMismatch&&!this.validity.valueMissing){isValid=true;}
if($field.prop('required')&&this.validity.valid){isValid=true;}}
if('blur'==event.type){if(!this.validity.valueMissing&&!this.validity.valid){isValid=false;}
if($field.prop('pattern')&&this.validity.patternMismatch){isValid=false;}}
if(true===isValid){$container.addClass('valid').removeClass('invalid');}else if(false==isValid){$container.addClass('invalid').removeClass('valid');if($field.attr('id')=='email'){$field.next('label').append('<span class="error_msg">This is not a valid e-mail address.</span>');}}}).change();},debounceGalleryPosition:function($productGallery,galleryWrapperHeight,galleryWrapperWidth,galleryOffsetLeft){var currentScroll=$(window).scrollTop();var galleryWrapperHeight=$('.product-info-main').outerHeight(true);var infoMainHeight=$('.gallery-wrapper').outerHeight(true);var imgGalleryTop=infoMainHeight-galleryWrapperHeight;var menuWrapperHeight=$('.main-menu-wrapper').outerHeight(true);var pageHeaderHeight=$('.page-header').outerHeight(true);if(currentScroll<=imgGalleryTop&&currentScroll>pageHeaderHeight){$productGallery.css({position:'fixed',top:menuWrapperHeight+'px',bottom:'inherit','z-index':'10',left:galleryOffsetLeft,width:galleryWrapperWidth});}else if(imgGalleryTop>0&&currentScroll>imgGalleryTop){$productGallery.css({position:'relative',top:imgGalleryTop,bottom:'inherit','z-index':'10',left:0});}else{$productGallery.css({position:'static'});}},documentReady:function($this){$(document).ready(function($){var wWidth=$(document).width();var wHeight=$(document).height();$(document).on('change','div.sooqrSearchResultsContainer div.sooqrSearchResults',function(){var $this=$(this);});$('.close-search').click(function(event){$('#header-search').hide('');});$("ul.level0.submenu").each(function(index,submenu){var iAmParent=this;var thumbsList={};$(submenu).find("li img.brandThumb").each(function(index2,thumbImage){var parentLi=$(thumbImage).closest("li");var thumbPriority=$(thumbImage).attr('thumbPriority');if(Number.isInteger(parseInt(thumbPriority))){thumbsList[thumbPriority]=parentLi;}});var positionToInsertElements=$(submenu).find(".promotion-wrapper");var firstLiItem=$(submenu).find("li:first");for(var imgIndex in thumbsList){thumbsList[imgIndex].insertAfter(positionToInsertElements);}});if(wWidth<768){}
$this.smothScroll();let storeCode=$('body').attr('store-code');if(storeCode){if(storeCode==='default'){$('.delivery-uk').show();}
else if(storeCode.trim()==='eur'){$('.add-flag').addClass('flags EUR');$('.delivery-eu').show();}
else if(storeCode.trim()==='usa'){$('.add-flag').addClass('flags USD');$('.delivery-rest').show();}else{}}
var $currencyMobile=$('.currency-mobile');if($currencyMobile.length>0&&wWidth<768){$('.toggle.switcher-trigger').on('click',function(){$('.currency-mobile .switcher-dropdown').slideToggle().promise().done(function(){$('.sections.nav-sections').animate({scrollTop:$('.sections.nav-sections').outerHeight(true)},1000);});});}
var $productPage=$('.catalog-product-view');if($productPage.length>0){$(".modal.fade:not('#servicesModal')").appendTo(".product-info-media-wrap");}
if($productPage.length>0&&wWidth>767){var $productGallery=$productPage.find('.product-info-main');var $galleryWrapperHeight=$productGallery.outerHeight()+120;var $galleryWrapperWidth=document.querySelector('.product-info-main').clientWidth;var $galleryOffset=$productGallery.offset();var $galleryOffsetTop=$galleryOffset.top;var $galleryOffsetLeft=$galleryOffset.left;$(window).scroll(function(){window._.debounce($this.debounceGalleryPosition($productGallery,$galleryWrapperHeight,$galleryWrapperWidth,$galleryOffsetLeft),1000);});$(window).resize(function(){$(".product-info-main").attr("style","");$galleryWrapperHeight=$productGallery.outerHeight()+120;$galleryWrapperWidth=document.querySelector('.product-info-main').clientWidth;$galleryOffset=$productGallery.offset();$galleryOffsetLeft=$galleryOffset.left;window._.debounce($this.debounceGalleryPosition($productGallery,$galleryWrapperHeight,$galleryWrapperWidth,$galleryOffsetLeft),1000);});$(".gallery-wrapper").on("click",".fotorama__nav__frame",function(){setTimeout(function(){$(".fotorama__active").trigger("click");},200);});}
if($productPage.length){$productPage.on("click",".js-smooth-scrollto",function(event){event.preventDefault();let $scrolltoEl=$($(this).attr("scroll-to"));$('html, body').animate({scrollTop:($scrolltoEl.offset().top-$(".main-menu-wrapper").outerHeight())},1000);});}
let $subMenu=$('.level0.submenu');$('body').on('mouseover','.level0.ui-menu-item',function(){var currentScroll=$(window).scrollTop();if(currentScroll>=$menuTop){$subMenu.removeClass('activeNav').addClass('activeScrollNav');}else{$subMenu.removeClass('activeScrollNav').addClass('activeNav');}});$(document).scroll(function(){if($subMenu.hasClass('activeNav')){$subMenu.removeClass('activeNav').addClass('activeScrollNav');}
if($(window).scrollTop()===0){$subMenu.removeClass('activeScrollNav').addClass('activeNav');}});var $penbrndsPage=$('.catalog-category-view.category-pen-brands');if($penbrndsPage.length){$penbrndsPage.on("click",".js-brands-btn",function(event){event.preventDefault();if(!$(this).hasClass("active")){let $toShowEl=$("."+$(this).attr("toshow"));$(".js-brand-contents").removeClass("show");$(".js-brand-contents").addClass("hide")
$toShowEl.removeClass("hide");$toShowEl.addClass("show");$(".js-brands-btn").removeClass("active");$(this).addClass("active");}});}
var categoryToggle=$('.category-read-more');if(categoryToggle.length>0){$(".categoryCms-content").on("click",".category-read-more",function(){var $this=$(this);var $catDescription=$('.category-description');$catDescription.toggleClass('show-text');$catDescription.parent(".categoryCms-content").toggleClass('show-full');if($catDescription.hasClass('show-text')){$this.text("Close");}else{$this.text("Read More");}})}
$(document).on('change','.details-qty input',function(){var $this=$(this);var $parent=$this.closest('.details-qty');$parent.find('button').show();});$(document).on('click','.close-basket',function(){$('#header-cart-over').removeClass('active');$('[data-block="minicart"]').find('[data-role="dropdownDialog"]').dropdownDialog("close");$('body').removeClass('modal-visible');});$(document).on('click','.close-basket-text',function(){$('#header-cart-over').removeClass('active');$('[data-block="minicart"]').find('[data-role="dropdownDialog"]').dropdownDialog("close");$('body').removeClass('modal-visible');});var $basketProductTable=$('#shopping-cart-table');if(wWidth<768){if($basketProductTable.length>0){var infoContainer=$basketProductTable.find('.item-info');$.each(infoContainer,function(i,item){var $item=$(item);var $itemHeight=$item.outerHeight();var $imageWrapper=$item.find('.col.image');$imageWrapper.css('height',$itemHeight);});}}
$(document).on('click','.fieldset.rate',function(){$('.basket-shipping').css('height','auto');});$(document).on('mouseleave','.fieldset.rate',function(){$('.basket-shipping').css('height',52);});$(document).on('click','.fieldset.rate .choice.item',function(e){var $this=$(this);var text=$this[0].innerText;e.stopPropagation();$('.basket-shipping').css('height',52);var findPrevEl=$('.basket-shipping').find('.selected-option');if(findPrevEl.length>0){findPrevEl.remove();}
$('.basket-shipping').prepend('<li class="selected-option">'+text+'</li>');});setTimeout(function(){$('.review-more-button').on('click',function(){var $this=$(this);var $reviewParent=$('.items.review-items');var $item=$reviewParent.find('.item.review-item');if($this.hasClass('expand-prod')){$this.text('View Less Reviews');$this.removeClass('expand-prod')
$item.fadeIn();}else{var count=5;$this.addClass('expand-prod');$this.text('View More Reviews');$.each($item,function(i,val){var $this=$(this);if(i>5){$this.hide();}});}});},7000);$('.slick-carousel-bg').slick({dots:true,slidesToShow:1,responsive:[{breakpoint:768,settings:{slidesToShow:1,arrows:false}},]});$('.category-slider-block .product-items').slick({dots:false,slidesToShow:4,responsive:[{breakpoint:768,settings:{slidesToShow:2,arrows:true}},]});$('.recommended-products .product-items').slick({dots:false,slidesToShow:4,slidesToScroll:4,infinite:true,responsive:[{breakpoint:768,settings:{slidesToShow:2.1,arrows:false}},]});$('.products-related .product-items').slick({dots:false,slidesToShow:4,infinite:false,responsive:[{breakpoint:768,settings:{slidesToShow:2.2,arrows:false}},]});$('.category-slider-block .block-products-list').first().addClass('active');$('.header-top-message .fa-close').on('click',function(){$('.header-top-message').slideUp(400);});$('.nav-sections-item-title').on('click',function(){var element=document.querySelector("html");element.classList.toggle('nav-before-open');element.classList.toggle('nav-open');});var headerOpen=false;$('.header-controls .header-control-target').click(function(){if($(this).data('target')){if(headerOpen){headerOpen=false;$('html').removeClass('account-open');$($(this).data('target')).hide();}else{headerOpen=true;$('html').addClass('account-open');$($(this).data('target')).show();}}});$('.header-links-overlay').click(function(){headerOpen=false;$('html').removeClass('account-open');$('#header-links').hide();});if(wWidth<=768){var blockTitle=jQuery('.footerContent__col.col-3 h4');if(blockTitle.length>0){blockTitle.on('click',function(){var $this=$(this);var plusIcon=$this.find('.fa');var parent=$this.closest('.footerContent__col.col-3');var parentContent=parent.find('ul');parent.addClass('active');if(plusIcon.hasClass('fa-plus')){plusIcon.removeClass('fa-plus');plusIcon.addClass('fa-minus');parentContent.slideDown();}
else if(plusIcon.hasClass('fa-minus')){plusIcon.removeClass('fa-minus');plusIcon.addClass('fa-plus');parentContent.slideUp();}});}}
if(wWidth<=768){var basketMobileMenu=$('.mobile-menu');if(basketMobileMenu.length>0){var blockTitle=$('.mobile-menu .item h4');if(blockTitle.length>0){blockTitle.on('click',function(){var $this=$(this);var plusIcon=$this.find('.fa');var parent=$this.closest('.item');var parentContent=parent.find('.item-content');parent.addClass('active');if(plusIcon.hasClass('fa-plus')){plusIcon.removeClass('fa-plus');plusIcon.addClass('fa-minus');parentContent.slideDown();}
else if(plusIcon.hasClass('fa-minus')){plusIcon.removeClass('fa-minus');plusIcon.addClass('fa-plus');parentContent.slideUp();}});}}}
var $mainHeader=$('.main-menu-wrapper');if($mainHeader.length>0){var $menu=$mainHeader.offset();var $menuTop=$menu.top;var prevScroll=0;var headerScrollFunctionality=function(){var currentScroll=$(window).scrollTop();if(currentScroll>=$menuTop){$mainHeader.css({position:'fixed',top:'0',left:'0',right:'0','z-index':'10000'});}else{$mainHeader.css({position:'static'});}
if($('body').hasClass('catalog-category-view')&&$(".block.filter").length){if(currentScroll<prevScroll&&(currentScroll+$(".block.filter").outerHeight())<=$("#maincontent").offset().top){if($('body').hasClass('stickyfilter')){$('body').removeClass('stickyfilter');}}else if(currentScroll>=prevScroll&&(currentScroll+$mainHeader.outerHeight())>$(".block.filter").offset().top){if(!$('body').hasClass('stickyfilter')){$('body').addClass('stickyfilter');}}
prevScroll=currentScroll;}};$(window).scroll(function(){window._.debounce(headerScrollFunctionality(),1000);});}
var videos=$("video");function videoSutoplayOnScroll(){var fraction=0.08;for(var i=0;i<videos.length;i++){var video=videos[i];if(!$(video).hasClass("clicked")){var x=$(video).offset().left,y=$(video).offset().top,w=$(video).width(),h=$(video).height(),r=x+w,b=y+h,visibleX,visibleY,visible;visibleX=Math.max(0,Math.min(w,window.pageXOffset+window.innerWidth-x,r-window.pageXOffset));visibleY=Math.max(0,Math.min(h,window.pageYOffset+window.innerHeight-y,b-window.pageYOffset));visible=visibleX*visibleY /(w*h);if(visible>fraction){$(video).get(0).play();}else{$(video).get(0).pause();}}}}
if($('body').hasClass('catalog-category-view')){if($(".brand-writing").length){$("body").addClass("blp-page");}}
$this.fullWidthSlider($('.full-width-slider'));function isInteger(num){return(num^0)===num;}
doWhen(function(whenResult){$('.fotorama').fotorama().data('fotorama').setOptions({loop:true});},function(){return $("div.fotorama__loaded--img.fotorama__active").length>0;});var seeMore=$('.toggle-content');if(seeMore.length>0){seeMore.on('click',function(){$('.content-toggle').toggle();});}
if(wWidth<768){var productGallery=$('.product.media');if(productGallery.length>0){productGallery.appendTo($('.product-info-top'));}}
doWhen(function(whenResult){var $swatch;if($("#product-updatecart-button").length===0&&$(".swatch-option.color.selected").length===0&&!$('body').hasClass('checkout-cart-configure')){$swatch=$("#product-options-wrapper .swatch-option.color");if($swatch.length){$swatch.first().click();}}},function(){return $("div.fotorama__loaded--img.fotorama__active").length>0;})
var $activeSubcategory=$('.catalog-category.subcategories-list');if($activeSubcategory.length>0){var $subcategories=$activeSubcategory.find('.categoryList .categoryList__title');$.each($subcategories,function(i,val){var $this=$(this);var $url=$this.attr('data-url');var $currentUrl=window.location.pathname.split("/").pop();if($url==$currentUrl){$this.addClass('current-category');}});}
var currentStockTextValue='';var currentStockSelector='.product-info-top .stock span';$('body').on('mouseover','.swatch-attribute-options div.disabled',function(){currentStockTextValue=$(currentStockSelector).text();$(currentStockSelector).text('Out of stock');});$('body').on('mouseleave','.swatch-attribute-options div.disabled',function(){$(currentStockSelector).text(currentStockTextValue);});$this.productCarousle($('.products-upsell .products'));$this.productCarousle($('.home-products .products'));var layerFilterItem=$('.filter-options-item');if(layerFilterItem.length>0){$(document).on('mouseover','.filter-options-item',function(){var $this=$(this);var $contentWrapper=$this.find('.filter-options-content');var $items=$this.find('.item');if($items.length>5){$contentWrapper.css('min-width',450);$items.addClass('item-half');}});}
var brandsButtons=$('.category-brand.button-list');var headerHeight=$('.main-menu-wrapper').outerHeight(true)+$('.header-after-wrapper').outerHeight(true);if(brandsButtons.length>0){var $button=brandsButtons.find('.button');$button.on('click',function(e){e.preventDefault();var $this=$(this);if($this.hasClass('browse-by-writing')){$('html, body').animate({scrollTop:$(".catalog-category").offset().top-headerHeight},500);}
if($this.hasClass('browse-by-range')){$('html, body').animate({scrollTop:$(".ranges-block").offset().top-headerHeight},500);}});}
var filterMenu=jQuery('.dd-menu-open');if(filterMenu.length>0){var mainMenu=getDDMenu(document.querySelector('#dd-menu'),{effect:'slideFromLeft'});var mainMenuItems=new DDMenuItems(mainMenu);}
var menuSwatch=$('.dd-menu-item.link .swatch-attribute');if(menuSwatch.length>0){var swatchItem=menuSwatch.find('.item');$.each(swatchItem,function(i,val){var $this=$(this);var $color=$this.find('.swatch-option').attr('option-label');$this.append('<span class="swatch-text-color">'+$color+'</span>');});}
var tabNavigation=$('.tab-navigation');if(tabNavigation.length>0){var $Url=window.location.href;var $currentPage=$Url.split('/');$currentPage=$currentPage.pop();var $items=tabNavigation.find('.item');$.each($items,function(i,val){var $this=$(val);var $link=$this.find('a').attr('href');$link=$link.replace('/','');var $currentLink=$link.split('/');$currentLink=$currentLink.pop();if($currentLink==$currentPage){$this.addClass('active');}});}
var $productDescriptionNav=$('.product.info.detailed');if($productDescriptionNav){var $navLInks=$productDescriptionNav.find('.data.switch');var $itemContent=$('.data.item.content');$navLInks.on('click',function(e){e.preventDefault();var $this=$(this);var $id=$this.attr('href');$id=$id.substr(1);var $el=document.getElementById($id);if($el.classList.contains('description-show')){$el.classList.remove('description-show');}else{$el.classList.add('description-show');}
$this.toggleClass('minus-icon');});}
var $giftWrapp=$('span:contains("Gift Wrap this product?")');if($giftWrapp.length>0){var $parent=$giftWrapp.closest('.field').addClass('gift-wrap-container');$('<span class="more-info-btn gift-wrapp" data-toggle="modal" data-target="#giftWrapping">More Info</span>').insertAfter($parent);}
var $giftWrappCartPage=$('dt:contains("Gift Wrap this product?")');if($giftWrappCartPage.length>0){$('#gift-options-cart').show();}else{$('#gift-options-cart').hide();}
if(wWidth<768){$('.engraving-button').on('click',function(){var $engravingBox=$('#engraving_box');if($engravingBox.length>0){setTimeout(function(){var $engravingBoxHeight=$engravingBox.find('img').height();var $optionList=$('.can_be_engraved .options-list.nested');$optionList.css('padding-top',$engravingBoxHeight/2);},1000);}});}
if(wWidth<768){$('.engraving-button').on('click',function(){var $embossingBox=$('#embossing_box');if($embossingBox.length>0){setTimeout(function(){var $embossingBoxHeight=$embossingBox.find('img').height();var $optionList=$('.wrapper-right.can_be_embossed');},1000);}});}
if(wWidth<993){$('.navigation .level1 a,.navigation .menu-brands a,.navigation .menu-pens a').on('click',function(e){e.stopPropagation();});$('.navigation .browse-by-price a').on('click',function(e){e.stopPropagation();});$('a.welcome__link').on('click',function(e){e.stopPropagation();});}
if(wWidth<993){$('.navigation a.level-top').on('click',function(e){var $this=$(this),$thisActive=$this.hasClass('ui-state-active'),$parent=$this.closest('.level0');$('.navigation li.level0').removeClass('arrow-down');if($thisActive){$parent.removeClass('arrow-down');}else{$parent.addClass('arrow-down');}});}
var $refills=$('.refill-upsell');if($refills.length>0){$.each($refills,function(i,val){var $singleReffil=$(this);var $toggleButton=$singleReffil.find('.toggle-reffil-box');var $toggleHeader=$singleReffil.find('.refill-head');var $container=$singleReffil.find('.block-content');$toggleHeader.on('click',function(){if($container.css('display')=='none'){$container.slideDown();$(this).find('.toggle-reffil-box').text("Click here to view less");$(this).find('.toggle-reffil-box').addClass('init');}else{$container.slideUp();$(this).find('.toggle-reffil-box').text("Click here to view all");$(this).find('.toggle-reffil-box').removeClass('init');}});});}
$(document).on('click','.opc-estimated-wrapper .showcart',function(){var offset=0;$(window).scroll(function(){var cartWrapper=$('.opc-estimated-wrapper');offset=cartWrapper.offset().top-$(window).scrollTop();$('.opc-sidebar._show').css('top',offset+60);});if(offset<1){offset=$('.opc-estimated-wrapper').offset().top-$(window).scrollTop();}
var miniCart=$('.opc-sidebar.opc-summary-wrapper');$('.opc-sidebar._show').css('top',offset+60);if(miniCart.hasClass('active')){miniCart.removeClass('active');miniCart.hide();}else{miniCart.addClass('active');miniCart.show();}});$(document).on('blur','.opc-wrapper input',function(){var $this=$(this);if($this.attr('name')=='firstname'||$this.attr('name')=='lastname'||$this.attr('name')=='city'){var $parent=$this.closest('.control');if($this.val()!=''){$parent.removeClass('validation-error');$parent.addClass('validation-pass');}else{$parent.removeClass('validation-pass');$parent.addClass('validation-error');}}
if($this.attr('name')=='street[0]'){var $parent=$this.closest('.control');var isValid=this.value.match(/^[0-9-a-zA-Z_ ]*$/)!==null;if(isValid==true&&$this.val()!=''){$parent.removeClass('validation-error');$parent.addClass('validation-pass');}else{$parent.removeClass('validation-pass');$parent.addClass('validation-error');}}
if($this.attr('name')=='telephone'||$this.attr('name')=='postcode'){var $parent=$this.closest('.control');var isValid=true;if(isValid==true&&$this.val()!=''){$parent.removeClass('validation-error');$parent.addClass('validation-pass');}else{$parent.removeClass('validation-pass');$parent.addClass('validation-error');}}});$(".opc-wrapper .field input,.opc-wrapper .field textarea").focusin(function(){$(this).parent().parent().addClass('active');});$(".opc-wrapper .field input,.opc-wrapper .field textarea").blur(function(){$(this).parent().parent().removeClass('active');});var blogPage=$('.wordpress-post-view');if(blogPage.length>0){var imgContainer=blogPage.find('.wp-caption');$.each(imgContainer,function(i,val){var $this=$(this);var containerImg=$this.find('img');$this.css('height',containerImg.attr('height'));$this.append('<span class="img-overlay">'+$this.text()+'</span>');});}
$(window).bind("load",function(){$('body').on("click",".decreaseQty, .increaseQty, #qtyminus, #qtyplus",function(e){var obj=$(this);e.preventDefault();var currentQty=parseInt(obj.siblings('.cart-item-qty').val());var $updateButton=obj.parent().siblings('.update-cart-item');if(obj.hasClass('increaseQty')||obj.id=='qtyplus'){var iid=$(this).parent().siblings('.update-cart-item');$(this).siblings('.cart-item-qty').val(currentQty+1).change();iid.fadeIn();}else if(obj.hasClass('decreaseQty')&&parseInt(currentQty)>1||obj.id=='qtyminus'&&parseInt(currentQty)>1){var iid=$(this).parent().siblings('.update-cart-item');$(this).siblings('.cart-item-qty').val(currentQty-1).change();iid.fadeIn();}});});});},fullWidthSlider:function($div){$div.slick({arrows:true,fade:false,dots:true,infinite:true,speed:300,slidesToShow:1,slidesToScroll:1});},autoOpenCart:function(){$('[data-block="minicart"]').on('contentLoading',function(event){$('[data-block="minicart"]').on('contentUpdated',function(){$('[data-block="minicart"]').find('[data-role="dropdownDialog"]').dropdownDialog("open");setTimeout(function(){$(".minicart-wrapper").find("div.ui-dialog.ui-widget.ui-widget-content").removeAttr("style");},50);$("#header-cart-over").click(function(){$(".minicart-wrapper").find("div.ui-dialog.ui-widget.ui-widget-content").css("display","none");$('#header-cart-over').removeClass('active');$('body').removeClass('modal-visible');});$('#header-cart-over').addClass('active');$('body').addClass('modal-visible');});});},productCarousle:function($div,$lnumber,$mnumber,$snumber){$div.slick({arrows:true,dots:false,slidesToShow:$lnumber||4,slidesToScroll:2,infinite:true,autoplay:false,centerMode:false,focusOnSelect:true,responsive:[{breakpoint:992,settings:{slidesToShow:$mnumber||3,slidesToScroll:1,infinite:true,autoplay:true,}},{breakpoint:750,settings:{slidesToShow:$snumber||2,slidesToScroll:2,infinite:true,autoplay:true,}}]});},smothScroll:function(){$('.smoth-scroll').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){if($(window).width()>750){loadingAnimation=true;$('html,body').animate({scrollTop:target.offset().top-jQuery('.header-container').height()},1000,function(){loadingAnimation=false;jQuery(window).scroll();});}
return false;}}});},scrollToTop:function(){var lastScrollTop=0;jQuery(window).scroll(function(){var st=jQuery(this).scrollTop();if(st>lastScrollTop){jQuery(".scrollToTop").removeClass('active');}else{if(st>200){jQuery(".scrollToTop").addClass('active');}else{jQuery(".scrollToTop").removeClass('active');}}
lastScrollTop=st;});jQuery(".scrollToTop").click(function(){$("html, body").animate({scrollTop:0},"slow");return false;});}}
$(function(){brm.init();});return brm;function collapseElements(el){var $elements=document.querySelectorAll(el);$elements.forEach(function(el){var $el=$(el);if(!$el.hasClass('active')){var $parentContent=$el.find('ul');}});}
function getParameterByName(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,'\\$&');var regex=new RegExp('[?&]'+name+'(=([^&#]*)|&|#|$)'),results=regex.exec(url);if(!results)return null;if(!results[2])return'';return decodeURIComponent(results[2].replace(/\+/g,' '));}
function visualSwatch(){var visualSwatch=$('.swatch-wrapper');if(visualSwatch.length>0){$.each(visualSwatch,function(i,val){var $parent=$(this);var productLink=$parent.find('.swatch-link').attr('data-prodlink');var swatchWrapper=$parent.find('.swatch-attribute');var allSwatches=$parent.find('.swatch-option');$.each(allSwatches,function(i,val){var $this=$(this);var $colorId=$this.attr('option-id');if($this.hasClass('allSet')){return true;}
$this.addClass('allSet');$this.wrap('<a href="'+productLink+'?color='+$colorId+'"></a>');});});}}});